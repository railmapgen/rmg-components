{"version":3,"file":"useReadyConfig.50a0ea4f.js","sources":["../../src/hook/useUpdatingGetter.ts","../../src/hook/useReadyConfig.ts"],"sourcesContent":["import { useEffect, useState } from 'react';\n\nexport const useUpdatingGetter = <T>(updater: Promise<any>, getter: () => T, defaultValue?: T) => {\n    const [value, setValue] = useState<T>(defaultValue ?? getter());\n\n    useEffect(() => {\n        updater.then(() => {\n            console.debug('[rmg-components] Getter updates finished');\n            setValue(getter());\n        });\n    }, []);\n\n    return value;\n};\n","import rmgRuntime from '@railmapgen/rmg-runtime';\nimport { useUpdatingGetter } from './useUpdatingGetter';\n\nexport const useReadyConfig = <T>(configGetter: () => T) => {\n    return useUpdatingGetter(rmgRuntime.ready(), configGetter);\n};\n"],"names":["useUpdatingGetter","__name","updater","getter","defaultValue","value","setValue","useState","useEffect","useReadyConfig","configGetter","rmgRuntime"],"mappings":"qKAEO,MAAMA,EAAoBC,EAAA,CAAIC,EAAuBC,EAAiBC,IAAqB,CAC9F,KAAM,CAACC,EAAOC,CAAQ,EAAIC,EAAY,QAAA,SAAAH,GAAA,KAAAA,EAAgBD,GAAQ,EAE9DK,OAAAA,EAAAA,QAAAA,UAAU,IAAM,CACZN,EAAQ,KAAK,IAAM,CACf,QAAQ,MAAM,0CAA0C,EACxDI,EAASH,GAAQ,CAAA,CACpB,CACL,EAAG,CAAE,CAAA,EAEEE,CACX,EAXiC,qBCCpBI,EAAiBR,EAAIS,GACvBV,EAAkBW,EAAW,MAAM,EAAGD,CAAY,EAD/B"}