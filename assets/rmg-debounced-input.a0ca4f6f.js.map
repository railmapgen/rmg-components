{"version":3,"file":"rmg-debounced-input.a0ca4f6f.js","sources":["../../node_modules/@chakra-ui/input/dist/index.esm.js","../../src/rmg-debounced-input/rmg-debounced-input.tsx"],"sourcesContent":["// ../../../react-shim.js\nimport React from \"react\";\n\n// src/input.tsx\nimport { useFormControl } from \"@chakra-ui/form-control\";\nimport {\n  chakra,\n  forwardRef,\n  omitThemingProps,\n  useMultiStyleConfig\n} from \"@chakra-ui/system\";\nimport { cx } from \"@chakra-ui/shared-utils\";\nvar Input = forwardRef(function Input2(props, ref) {\n  const { htmlSize, ...rest } = props;\n  const styles = useMultiStyleConfig(\"Input\", rest);\n  const ownProps = omitThemingProps(rest);\n  const input = useFormControl(ownProps);\n  const _className = cx(\"chakra-input\", props.className);\n  return /* @__PURE__ */ React.createElement(chakra.input, {\n    size: htmlSize,\n    ...input,\n    __css: styles.field,\n    ref,\n    className: _className\n  });\n});\nInput.displayName = \"Input\";\nInput.id = \"Input\";\n\n// src/input-addon.tsx\nimport { chakra as chakra3, forwardRef as forwardRef3 } from \"@chakra-ui/system\";\nimport { cx as cx3 } from \"@chakra-ui/shared-utils\";\n\n// src/input-group.tsx\nimport { createContext } from \"@chakra-ui/react-context\";\nimport { getValidChildren } from \"@chakra-ui/react-children-utils\";\nimport {\n  chakra as chakra2,\n  forwardRef as forwardRef2,\n  omitThemingProps as omitThemingProps2,\n  useMultiStyleConfig as useMultiStyleConfig2\n} from \"@chakra-ui/system\";\nimport { cx as cx2 } from \"@chakra-ui/shared-utils\";\nimport { compact } from \"@chakra-ui/object-utils\";\nimport { cloneElement } from \"react\";\nvar [InputGroupStylesProvider, useInputGroupStyles] = createContext({\n  name: `InputGroupStylesContext`,\n  errorMessage: `useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<InputGroup />\" `\n});\nvar InputGroup = forwardRef2(function InputGroup2(props, ref) {\n  const styles = useMultiStyleConfig2(\"Input\", props);\n  const { children, className, ...rest } = omitThemingProps2(props);\n  const _className = cx2(\"chakra-input__group\", className);\n  const groupStyles = {};\n  const validChildren = getValidChildren(children);\n  const input = styles.field;\n  validChildren.forEach((child) => {\n    if (!styles)\n      return;\n    if (input && child.type.id === \"InputLeftElement\") {\n      groupStyles.paddingStart = input.height ?? input.h;\n    }\n    if (input && child.type.id === \"InputRightElement\") {\n      groupStyles.paddingEnd = input.height ?? input.h;\n    }\n    if (child.type.id === \"InputRightAddon\") {\n      groupStyles.borderEndRadius = 0;\n    }\n    if (child.type.id === \"InputLeftAddon\") {\n      groupStyles.borderStartRadius = 0;\n    }\n  });\n  const clones = validChildren.map((child) => {\n    var _a, _b;\n    const theming = compact({\n      size: ((_a = child.props) == null ? void 0 : _a.size) || props.size,\n      variant: ((_b = child.props) == null ? void 0 : _b.variant) || props.variant\n    });\n    return child.type.id !== \"Input\" ? cloneElement(child, theming) : cloneElement(child, Object.assign(theming, groupStyles, child.props));\n  });\n  return /* @__PURE__ */ React.createElement(chakra2.div, {\n    className: _className,\n    ref,\n    __css: {\n      width: \"100%\",\n      display: \"flex\",\n      position: \"relative\"\n    },\n    ...rest\n  }, /* @__PURE__ */ React.createElement(InputGroupStylesProvider, {\n    value: styles\n  }, clones));\n});\nInputGroup.displayName = \"InputGroup\";\n\n// src/input-addon.tsx\nvar placements = {\n  left: {\n    marginEnd: \"-1px\",\n    borderEndRadius: 0,\n    borderEndColor: \"transparent\"\n  },\n  right: {\n    marginStart: \"-1px\",\n    borderStartRadius: 0,\n    borderStartColor: \"transparent\"\n  }\n};\nvar StyledAddon = chakra3(\"div\", {\n  baseStyle: {\n    flex: \"0 0 auto\",\n    width: \"auto\",\n    display: \"flex\",\n    alignItems: \"center\",\n    whiteSpace: \"nowrap\"\n  }\n});\nvar InputAddon = forwardRef3(function InputAddon2(props, ref) {\n  const { placement = \"left\", ...rest } = props;\n  const placementStyles = placements[placement] ?? {};\n  const styles = useInputGroupStyles();\n  return /* @__PURE__ */ React.createElement(StyledAddon, {\n    ref,\n    ...rest,\n    __css: {\n      ...styles.addon,\n      ...placementStyles\n    }\n  });\n});\nInputAddon.displayName = \"InputAddon\";\nvar InputLeftAddon = forwardRef3(function InputLeftAddon2(props, ref) {\n  return /* @__PURE__ */ React.createElement(InputAddon, {\n    ref,\n    placement: \"left\",\n    ...props,\n    className: cx3(\"chakra-input__left-addon\", props.className)\n  });\n});\nInputLeftAddon.displayName = \"InputLeftAddon\";\nInputLeftAddon.id = \"InputLeftAddon\";\nvar InputRightAddon = forwardRef3(function InputRightAddon2(props, ref) {\n  return /* @__PURE__ */ React.createElement(InputAddon, {\n    ref,\n    placement: \"right\",\n    ...props,\n    className: cx3(\"chakra-input__right-addon\", props.className)\n  });\n});\nInputRightAddon.displayName = \"InputRightAddon\";\nInputRightAddon.id = \"InputRightAddon\";\n\n// src/input-element.tsx\nimport {\n  chakra as chakra4,\n  forwardRef as forwardRef4\n} from \"@chakra-ui/system\";\nimport { cx as cx4 } from \"@chakra-ui/shared-utils\";\nvar StyledInputElement = chakra4(\"div\", {\n  baseStyle: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    position: \"absolute\",\n    top: \"0\",\n    zIndex: 2\n  }\n});\nvar InputElement = forwardRef4(function InputElement2(props, ref) {\n  const { placement = \"left\", ...rest } = props;\n  const styles = useInputGroupStyles();\n  const input = styles.field;\n  const attr = placement === \"left\" ? \"insetStart\" : \"insetEnd\";\n  const elementStyles = {\n    [attr]: \"0\",\n    width: (input == null ? void 0 : input.height) ?? (input == null ? void 0 : input.h),\n    height: (input == null ? void 0 : input.height) ?? (input == null ? void 0 : input.h),\n    fontSize: input == null ? void 0 : input.fontSize,\n    ...styles.element\n  };\n  return /* @__PURE__ */ React.createElement(StyledInputElement, {\n    ref,\n    __css: elementStyles,\n    ...rest\n  });\n});\nInputElement.id = \"InputElement\";\nInputElement.displayName = \"InputElement\";\nvar InputLeftElement = forwardRef4(function InputLeftElement2(props, ref) {\n  const { className, ...rest } = props;\n  const _className = cx4(\"chakra-input__left-element\", className);\n  return /* @__PURE__ */ React.createElement(InputElement, {\n    ref,\n    placement: \"left\",\n    className: _className,\n    ...rest\n  });\n});\nInputLeftElement.id = \"InputLeftElement\";\nInputLeftElement.displayName = \"InputLeftElement\";\nvar InputRightElement = forwardRef4(function InputRightElement2(props, ref) {\n  const { className, ...rest } = props;\n  const _className = cx4(\"chakra-input__right-element\", className);\n  return /* @__PURE__ */ React.createElement(InputElement, {\n    ref,\n    placement: \"right\",\n    className: _className,\n    ...rest\n  });\n});\nInputRightElement.id = \"InputRightElement\";\nInputRightElement.displayName = \"InputRightElement\";\nexport {\n  Input,\n  InputAddon,\n  InputGroup,\n  InputLeftAddon,\n  InputLeftElement,\n  InputRightAddon,\n  InputRightElement,\n  useInputGroupStyles\n};\n","import React, { ChangeEvent, forwardRef, Ref, useEffect, useRef, useState } from 'react';\nimport { Input, InputProps, useMergeRefs } from '@chakra-ui/react';\n\nexport interface RmgDebouncedInputProps extends InputProps {\n    validator?: (value: string) => boolean;\n    onDebouncedChange?: (value: string) => void;\n    delay?: number;\n    optionList?: string[];\n}\n\nconst RmgDebouncedInputInner = (props: RmgDebouncedInputProps, ref: Ref<HTMLInputElement>) => {\n    const { validator, onDebouncedChange, delay, optionList, defaultValue, onChange, ...others } = props;\n\n    const inputElRef = useRef<HTMLInputElement>(null);\n    const refs = useMergeRefs(inputElRef, ref);\n\n    const datalistRef = useRef('datalist-' + new Date().valueOf());\n\n    const [isInvalid, setIsInvalid] = useState(false);\n    const timeoutRef = useRef<number>();\n\n    useEffect(() => {\n        if (inputElRef.current) {\n            inputElRef.current.value = defaultValue?.toString() || '';\n        }\n    }, [defaultValue]);\n\n    const handleChange = ({ target: { value } }: ChangeEvent<HTMLInputElement>) => {\n        window.clearTimeout(timeoutRef.current);\n\n        if (validator) {\n            setIsInvalid(!validator(value));\n        }\n\n        timeoutRef.current = window.setTimeout(() => {\n            onDebouncedChange?.(value);\n        }, delay ?? 500);\n    };\n\n    return (\n        <>\n            <Input\n                ref={refs}\n                list={datalistRef.current}\n                variant=\"flushed\"\n                size=\"sm\"\n                h={6}\n                onChange={handleChange}\n                isInvalid={isInvalid}\n                {...others}\n            />\n\n            {optionList && (\n                <datalist id={datalistRef.current}>\n                    {optionList?.map((opt, i) => (\n                        <option key={i}>{opt}</option>\n                    ))}\n                </datalist>\n            )}\n        </>\n    );\n};\n\nexport const RmgDebouncedInput = forwardRef(RmgDebouncedInputInner);\n"],"names":["Input","forwardRef","__name","props","ref","htmlSize","rest","styles","useMultiStyleConfig","ownProps","omitThemingProps","input","useFormControl","_className","cx","className","React","createElement","chakra","size","__css","field","displayName","id","InputGroupStylesProvider","useInputGroupStyles","createContext","name","errorMessage","InputGroup","forwardRef2","useMultiStyleConfig2","children","omitThemingProps2","cx2","groupStyles","validChildren","getValidChildren","forEach","child","type","paddingStart","height","h","paddingEnd","borderEndRadius","borderStartRadius","clones","map","_a","_b","theming","compact","variant","cloneElement","Object","assign","chakra2","div","width","display","position","_jsx","placements","left","marginEnd","borderEndColor","right","marginStart","borderStartColor","StyledAddon","chakra3","baseStyle","flex","alignItems","whiteSpace","InputAddon","forwardRef3","placement","placementStyles","addon","InputLeftAddon","cx3","InputRightAddon","StyledInputElement","chakra4","justifyContent","top","zIndex","InputElement","forwardRef4","elementStyles","fontSize","element","InputLeftElement","cx4","InputRightElement","RmgDebouncedInputInner","validator","onDebouncedChange","delay","optionList","defaultValue","onChange","others","inputElRef","useRef","refs","useMergeRefs","datalistRef","isInvalid","setIsInvalid","useState","timeoutRef","useEffect","handleChange","value","window","_jsxs","_Fragment","current","opt","RmgDebouncedInput"],"mappings":"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"}