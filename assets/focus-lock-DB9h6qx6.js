import{j as Sr}from"./jsx-runtime-D_3pcrNB.js";import{_ as z}from"./use-style-config-CZvBo0tQ.js";import{r as d,R as Ir}from"./index-YTOF1_EJ.js";import{g as Pr}from"./focusable-crJ8ziAt.js";function Ar(e,r){if(e==null)return{};var n={},t=Object.keys(e),u,o;for(o=0;o<t.length;o++)u=t[o],!(r.indexOf(u)>=0)&&(n[u]=e[u]);return n}var J="data-focus-lock",Me="data-focus-lock-disabled",Tr="data-no-focus-lock",kr="data-autofocus-inside",Mr="data-no-autofocus";function q(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function Nr(e,r){var n=d.useState(function(){return{value:e,callback:r,facade:{get current(){return n.value},set current(t){var u=n.value;u!==t&&(n.value=t,n.callback(t,u))}}}})[0];return n.callback=r,n.facade}var _r=typeof window<"u"?d.useLayoutEffect:d.useEffect,Ee=new WeakMap;function Cr(e,r){var n=Nr(null,function(t){return e.forEach(function(u){return q(u,t)})});return _r(function(){var t=Ee.get(n);if(t){var u=new Set(t),o=new Set(e),a=n.current;u.forEach(function(i){o.has(i)||q(i,null)}),o.forEach(function(i){u.has(i)||q(i,a)})}Ee.set(n,e)},[e]),n}var V={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},X=function(){return X=Object.assign||function(r){for(var n,t=1,u=arguments.length;t<u;t++){n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},X.apply(this,arguments)};function Jn(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,t=Object.getOwnPropertySymbols(e);u<t.length;u++)r.indexOf(t[u])<0&&Object.prototype.propertyIsEnumerable.call(e,t[u])&&(n[t[u]]=e[t[u]]);return n}function Xn(e,r,n){for(var t=0,u=r.length,o;t<u;t++)(o||!(t in r))&&(o||(o=Array.prototype.slice.call(r,0,t)),o[t]=r[t]);return e.concat(o||Array.prototype.slice.call(r))}function Ne(e){return e}function _e(e,r){r===void 0&&(r=Ne);var n=[],t=!1,u={read:function(){if(t)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var a=r(o,t);return n.push(a),function(){n=n.filter(function(i){return i!==a})}},assignSyncMedium:function(o){for(t=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(i){return o(i)},filter:function(){return n}}},assignMedium:function(o){t=!0;var a=[];if(n.length){var i=n;n=[],i.forEach(o),a=n}var b=function(){var v=a;a=[],v.forEach(o)},c=function(){return Promise.resolve().then(b)};c(),n={push:function(v){a.push(v),c()},filter:function(v){return a=a.filter(v),n}}}};return u}function ue(e,r){return r===void 0&&(r=Ne),_e(e,r)}function Lr(e){e===void 0&&(e={});var r=_e(null);return r.options=X({async:!0,ssr:!1},e),r}var Ce=ue({},function(e){var r=e.target,n=e.currentTarget;return{target:r,currentTarget:n}}),Le=ue(),Dr=ue(),Rr=Lr({async:!0,ssr:typeof document<"u"}),Wr=d.createContext(void 0),Ur=[],oe=d.forwardRef(function(r,n){var t,u=d.useState(),o=u[0],a=u[1],i=d.useRef(),b=d.useRef(!1),c=d.useRef(null),v=d.useState({}),s=v[1],f=r.children,m=r.disabled,l=m===void 0?!1:m,p=r.noFocusGuards,g=p===void 0?!1:p,O=r.persistentFocus,h=O===void 0?!1:O,y=r.crossFrame,E=y===void 0?!0:y,S=r.autoFocus,j=S===void 0?!0:S;r.allowTextSelection;var or=r.group,ar=r.className,ir=r.whiteList,cr=r.hasPositiveIndices,he=r.shards,G=he===void 0?Ur:he,ye=r.as,fr=ye===void 0?"div":ye,ge=r.lockProps,sr=ge===void 0?{}:ge,dr=r.sideCar,Fe=r.returnFocus,U=Fe===void 0?!1:Fe,lr=r.focusOptions,H=r.onActivation,$=r.onDeactivation,vr=d.useState({}),mr=vr[0],br=d.useCallback(function(w){var T=w.captureFocusRestore;if(!c.current){var k,I=(k=document)==null?void 0:k.activeElement;c.current=I,I!==document.body&&(c.current=T(I))}i.current&&H&&H(i.current),b.current=!0,s()},[H]),pr=d.useCallback(function(){b.current=!1,$&&$(i.current),s()},[$]),hr=d.useCallback(function(w){var T=c.current;if(T){var k=(typeof T=="function"?T():T)||document.body,I=typeof U=="function"?U(k):U;if(I){var xe=typeof I=="object"?I:void 0;c.current=null,w?Promise.resolve().then(function(){return k.focus(xe)}):k.focus(xe)}}},[U]),yr=d.useCallback(function(w){b.current&&Ce.useMedium(w)},[]),gr=Le.useMedium,Fr=d.useCallback(function(w){i.current!==w&&(i.current=w,a(w))},[]),Or=z((t={},t[Me]=l&&"disabled",t[J]=or,t),sr),Oe=g!==!0,xr=Oe&&g!=="tail",Er=Cr([n,Fr]),wr=d.useMemo(function(){return{observed:i,shards:G,enabled:!l,active:b.current}},[l,b.current,G,o]);return d.createElement(d.Fragment,null,Oe&&[d.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:l?-1:0,style:V}),cr?d.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:l?-1:1,style:V}):null],!l&&d.createElement(dr,{id:mr,sideCar:Rr,observed:o,disabled:l,persistentFocus:h,crossFrame:E,autoFocus:j,whiteList:ir,shards:G,onActivation:br,onDeactivation:pr,returnFocus:hr,focusOptions:lr,noFocusGuards:g}),d.createElement(fr,z({ref:Er},Or,{className:ar,onBlur:gr,onFocus:yr}),d.createElement(Wr.Provider,{value:wr},f)),xr&&d.createElement("div",{"data-focus-guard":!0,tabIndex:l?-1:0,style:V}))});oe.propTypes={};function Z(e,r){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,u){return t.__proto__=u,t},Z(e,r)}function Br(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,Z(e,r)}function L(e){"@babel/helpers - typeof";return L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},L(e)}function jr(e,r){if(L(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r||"default");if(L(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Gr(e){var r=jr(e,"string");return L(r)=="symbol"?r:String(r)}function Hr(e,r,n){return r=Gr(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function $r(e,r){function n(t){return t.displayName||t.name||"Component"}return function(u){var o=[],a;function i(){a=e(o.map(function(c){return c.props})),r(a)}var b=function(c){Br(v,c);function v(){return c.apply(this,arguments)||this}v.peek=function(){return a};var s=v.prototype;return s.componentDidMount=function(){o.push(this),i()},s.componentDidUpdate=function(){i()},s.componentWillUnmount=function(){var m=o.indexOf(this);o.splice(m,1),i()},s.render=function(){return Ir.createElement(u,this.props)},v}(d.PureComponent);return Hr(b,"displayName","SideEffect("+n(u)+")"),b}}var x=function(e){for(var r=Array(e.length),n=0;n<e.length;++n)r[n]=e[n];return r},A=function(e){return Array.isArray(e)?e:[e]},De=function(e){return Array.isArray(e)?e[0]:e},qr=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var r=window.getComputedStyle(e,null);return!r||!r.getPropertyValue?!1:r.getPropertyValue("display")==="none"||r.getPropertyValue("visibility")==="hidden"},Re=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},We=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},Vr=function(e){return e.hasAttribute("inert")},Kr=function(e,r){return!e||We(e)||!qr(e)&&!Vr(e)&&r(Re(e))},Ue=function(e,r){var n=e.get(r);if(n!==void 0)return n;var t=Kr(r,Ue.bind(void 0,e));return e.set(r,t),t},Qr=function(e,r){return e&&!We(e)?Jr(e)?r(Re(e)):!1:!0},Be=function(e,r){var n=e.get(r);if(n!==void 0)return n;var t=Qr(r,Be.bind(void 0,e));return e.set(r,t),t},je=function(e){return e.dataset},Yr=function(e){return e.tagName==="BUTTON"},Ge=function(e){return e.tagName==="INPUT"},He=function(e){return Ge(e)&&e.type==="radio"},zr=function(e){return!((Ge(e)||Yr(e))&&(e.type==="hidden"||e.disabled))},Jr=function(e){var r=e.getAttribute(Mr);return![!0,"true",""].includes(r)},ae=function(e){var r;return!!(e&&(!((r=je(e))===null||r===void 0)&&r.focusGuard))},ee=function(e){return!ae(e)},Xr=function(e){return!!e},Zr=function(e,r){var n=Math.max(0,e.tabIndex),t=Math.max(0,r.tabIndex),u=n-t,o=e.index-r.index;if(u){if(!n)return 1;if(!t)return-1}return u||o},en=function(e){return e.tabIndex<0&&!e.hasAttribute("tabindex")?0:e.tabIndex},ie=function(e,r,n){return x(e).map(function(t,u){var o=en(t);return{node:t,index:u,tabIndex:n&&o===-1?(t.dataset||{}).focusGuard?0:-1:o}}).filter(function(t){return!r||t.tabIndex>=0}).sort(Zr)},rn=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],ce=rn.join(","),nn="".concat(ce,", [data-focus-guard]"),$e=function(e,r){return x((e.shadowRoot||e).children).reduce(function(n,t){return n.concat(t.matches(r?nn:ce)?[t]:[],$e(t))},[])},tn=function(e,r){var n;return e instanceof HTMLIFrameElement&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?_([e.contentDocument.body],r):[e]},_=function(e,r){return e.reduce(function(n,t){var u,o=$e(t,r),a=(u=[]).concat.apply(u,o.map(function(i){return tn(i,r)}));return n.concat(a,t.parentNode?x(t.parentNode.querySelectorAll(ce)).filter(function(i){return i===t}):[])},[])},un=function(e){var r=e.querySelectorAll("[".concat(kr,"]"));return x(r).map(function(n){return _([n])}).reduce(function(n,t){return n.concat(t)},[])},fe=function(e,r){return x(e).filter(function(n){return Ue(r,n)}).filter(function(n){return zr(n)})},we=function(e,r){return r===void 0&&(r=new Map),x(e).filter(function(n){return Be(r,n)})},se=function(e,r,n){return ie(fe(_(e,n),r),!0,n)},D=function(e,r){return ie(fe(_(e),r),!1)},on=function(e,r){return fe(un(e),r)},P=function(e,r){return e.shadowRoot?P(e.shadowRoot,r):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,r)?!0:x(e.children).some(function(n){var t;if(n instanceof HTMLIFrameElement){var u=(t=n.contentDocument)===null||t===void 0?void 0:t.body;return u?P(u,r):!1}return P(n,r)})},an=function(e){for(var r=new Set,n=e.length,t=0;t<n;t+=1)for(var u=t+1;u<n;u+=1){var o=e[t].compareDocumentPosition(e[u]);(o&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&r.add(u),(o&Node.DOCUMENT_POSITION_CONTAINS)>0&&r.add(t)}return e.filter(function(a,i){return!r.has(i)})},qe=function(e){return e.parentNode?qe(e.parentNode):e},de=function(e){var r=A(e);return r.filter(Boolean).reduce(function(n,t){var u=t.getAttribute(J);return n.push.apply(n,u?an(x(qe(t).querySelectorAll("[".concat(J,'="').concat(u,'"]:not([').concat(Me,'="disabled"])')))):[t]),n},[])},cn=function(e){try{return e()}catch{return}},R=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var r=e.activeElement;return r.shadowRoot?R(r.shadowRoot):r instanceof HTMLIFrameElement&&cn(function(){return r.contentWindow.document})?R(r.contentWindow.document):r}},fn=function(e,r){return e===r},sn=function(e,r){return!!x(e.querySelectorAll("iframe")).some(function(n){return fn(n,r)})},Ve=function(e,r){return r===void 0&&(r=R(De(e).ownerDocument)),!r||r.dataset&&r.dataset.focusGuard?!1:de(e).some(function(n){return P(n,r)||sn(n,r)})},dn=function(e){e===void 0&&(e=document);var r=R(e);return r?x(e.querySelectorAll("[".concat(Tr,"]"))).some(function(n){return P(n,r)}):!1},ln=function(e,r){return r.filter(He).filter(function(n){return n.name===e.name}).filter(function(n){return n.checked})[0]||e},le=function(e,r){return He(e)&&e.name?ln(e,r):e},vn=function(e){var r=new Set;return e.forEach(function(n){return r.add(le(n,e))}),e.filter(function(n){return r.has(n)})},Se=function(e){return e[0]&&e.length>1?le(e[0],e):e[0]},Ie=function(e,r){return e.indexOf(le(r,e))},re="NEW_FOCUS",mn=function(e,r,n,t,u){var o=e.length,a=e[0],i=e[o-1],b=ae(t);if(!(t&&e.indexOf(t)>=0)){var c=t!==void 0?n.indexOf(t):-1,v=u?n.indexOf(u):c,s=u?e.indexOf(u):-1;if(c===-1)return s!==-1?s:re;if(s===-1)return re;var f=c-v,m=n.indexOf(a),l=n.indexOf(i),p=vn(n),g=t!==void 0?p.indexOf(t):-1,O=g-(u?p.indexOf(u):c);if(!f&&s>=0||r.length===0)return s;var h=Ie(e,r[0]),y=Ie(e,r[r.length-1]);if(c<=m&&b&&Math.abs(f)>1)return y;if(c>=l&&b&&Math.abs(f)>1)return h;if(f&&Math.abs(O)>1)return s;if(c<=m)return y;if(c>l)return h;if(f)return Math.abs(f)>1?s:(o+s+f)%o}},bn=function(e){return function(r){var n,t=(n=je(r))===null||n===void 0?void 0:n.autofocus;return r.autofocus||t!==void 0&&t!=="false"||e.indexOf(r)>=0}},Pe=function(e,r,n){var t=e.map(function(o){var a=o.node;return a}),u=we(t.filter(bn(n)));return u&&u.length?Se(u):Se(we(r))},ne=function(e,r){return r===void 0&&(r=[]),r.push(e),e.parentNode&&ne(e.parentNode.host||e.parentNode,r),r},K=function(e,r){for(var n=ne(e),t=ne(r),u=0;u<n.length;u+=1){var o=n[u];if(t.indexOf(o)>=0)return o}return!1},Ke=function(e,r,n){var t=A(e),u=A(r),o=t[0],a=!1;return u.filter(Boolean).forEach(function(i){a=K(a||i,i)||a,n.filter(Boolean).forEach(function(b){var c=K(o,b);c&&(!a||P(c,a)?a=c:a=K(c,a))})}),a},Ae=function(e,r){return e.reduce(function(n,t){return n.concat(on(t,r))},[])},pn=function(e,r){var n=new Map;return r.forEach(function(t){return n.set(t.node,t)}),e.map(function(t){return n.get(t)}).filter(Xr)},hn=function(e,r){var n=R(A(e).length>0?document:De(e).ownerDocument),t=de(e).filter(ee),u=Ke(n||e,e,t),o=new Map,a=D(t,o),i=a.filter(function(l){var p=l.node;return ee(p)});if(i[0]){var b=D([u],o).map(function(l){var p=l.node;return p}),c=pn(b,i),v=c.map(function(l){var p=l.node;return p}),s=c.filter(function(l){var p=l.tabIndex;return p>=0}).map(function(l){var p=l.node;return p}),f=mn(v,s,b,n,r);if(f===re){var m=Pe(a,s,Ae(t,o))||Pe(a,v,Ae(t,o));if(m)return{node:m};console.warn("focus-lock: cannot find any node to move focus into");return}return f===void 0?f:c[f]}},yn=function(e){var r=de(e).filter(ee),n=Ke(e,e,r),t=ie(_([n],!0),!0,!0),u=_(r,!1);return t.map(function(o){var a=o.node,i=o.index;return{node:a,index:i,lockItem:u.indexOf(a)>=0,guard:ae(a)}})},ve=function(e,r){e&&("focus"in e&&e.focus(r),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus())},Q=0,Y=!1,Qe=function(e,r,n){n===void 0&&(n={});var t=hn(e,r);if(!Y&&t){if(Q>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),Y=!0,setTimeout(function(){Y=!1},1);return}Q++,ve(t.node,n.focusOptions),Q--}};function C(e){if(!e)return null;if(typeof WeakRef>"u")return function(){return e||null};var r=e?new WeakRef(e):null;return function(){return(r==null?void 0:r.deref())||null}}var gn=function(e){if(!e)return null;for(var r=[],n=e;n&&n!==document.body;)r.push({current:C(n),parent:C(n.parentElement),left:C(n.previousElementSibling),right:C(n.nextElementSibling)}),n=n.parentElement;return{element:C(e),stack:r,ownerDocument:e.ownerDocument}},Fn=function(e){var r,n,t,u,o;if(e)for(var a=e.stack,i=e.ownerDocument,b=new Map,c=0,v=a;c<v.length;c++){var s=v[c],f=(r=s.parent)===null||r===void 0?void 0:r.call(s);if(f&&i.contains(f)){for(var m=(n=s.left)===null||n===void 0?void 0:n.call(s),l=s.current(),p=f.contains(l)?l:void 0,g=(t=s.right)===null||t===void 0?void 0:t.call(s),O=se([f],b),h=(o=(u=p??(m==null?void 0:m.nextElementSibling))!==null&&u!==void 0?u:g)!==null&&o!==void 0?o:m;h;){for(var y=0,E=O;y<E.length;y++){var S=E[y];if(h!=null&&h.contains(S.node))return S.node}h=h.nextElementSibling}if(O.length)return O[0].node}}},Ye=function(e){var r=gn(e);return function(){return Fn(r)}},On=function(e,r,n){if(!e||!r)return console.error("no element or scope given"),{};var t=A(r);if(t.every(function(a){return!P(a,e)}))return console.error("Active element is not contained in the scope"),{};var u=n?se(t,new Map):D(t,new Map),o=u.findIndex(function(a){var i=a.node;return i===e});if(o!==-1)return{prev:u[o-1],next:u[o+1],first:u[0],last:u[u.length-1]}},xn=function(e,r){var n=r?se(A(e),new Map):D(A(e),new Map);return{first:n[0],last:n[n.length-1]}},En=function(e){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},e)},ze=function(e,r,n){r===void 0&&(r={});var t=En(r),u=On(e,t.scope,t.onlyTabbable);if(u){var o=n(u,t.cycle);o&&ve(o.node,t.focusOptions)}},wn=function(e,r){r===void 0&&(r={}),ze(e,r,function(n,t){var u=n.next,o=n.first;return u||t&&o})},Sn=function(e,r){r===void 0&&(r={}),ze(e,r,function(n,t){var u=n.prev,o=n.last;return u||t&&o})},Je=function(e,r,n){var t,u=xn(e,(t=r.onlyTabbable)!==null&&t!==void 0?t:!0),o=u[n];o&&ve(o.node,r.focusOptions)},In=function(e,r){r===void 0&&(r={}),Je(e,r,"first")},Pn=function(e,r){r===void 0&&(r={}),Je(e,r,"last")};function me(e){setTimeout(e,1)}var An=function(r){return r&&"current"in r?r.current:r},Xe=function(){return document&&document.activeElement===document.body},Tn=function(){return Xe()||dn()},M=null,F=null,Te=function(){return null},N=null,W=!1,be=!1,kn=function(){return!0},Mn=function(r){return(M.whiteList||kn)(r)},Nn=function(r,n){N={observerNode:r,portaledElement:n}},_n=function(r){return N&&N.portaledElement===r};function ke(e,r,n,t){var u=null,o=e;do{var a=t[o];if(a.guard)a.node.dataset.focusAutoGuard&&(u=a);else if(a.lockItem){if(o!==e)return;u=null}else break}while((o+=n)!==r);u&&(u.node.tabIndex=0)}var Cn=function(r){return r?!!W:W==="meanwhile"},Ln=function e(r,n,t){return n&&(n.host===r&&(!n.activeElement||t.contains(n.activeElement))||n.parentNode&&e(r,n.parentNode,t))},Dn=function(r,n){return n.some(function(t){return Ln(r,t,t)})},Ze=function(r){return D(r,new Map)},Rn=function(r){return!Ze([r.parentNode]).some(function(n){return n.node===r})},B=function(){var r=!1;if(M){var n=M,t=n.observed,u=n.persistentFocus,o=n.autoFocus,a=n.shards,i=n.crossFrame,b=n.focusOptions,c=n.noFocusGuards,v=t||N&&N.portaledElement;if(Xe()&&F&&(!document.body.contains(F)||Rn(F))){F=null;var s=Te();s&&s.focus()}var f=document&&document.activeElement;if(v){var m=[v].concat(a.map(An).filter(Boolean)),l=function(){if(!Cn(i)||!c||!F||be)return!1;var y=Ze(m),E=y.findIndex(function(S){var j=S.node;return j===F});return E===0||E===y.length-1};if((!f||Mn(f))&&(u||l()||!Tn()||!F&&o)&&(v&&!(Ve(m)||f&&Dn(f,m)||_n(f))&&(document&&!F&&f&&!o?(f.blur&&f.blur(),document.body.focus()):(r=Qe(m,F,{focusOptions:b}),N={})),W=!1,F=document&&document.activeElement,Te=Ye(F)),document&&f!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var p=document&&document.activeElement,g=yn(m),O=g.map(function(h){var y=h.node;return y}).indexOf(p);O>-1&&(g.filter(function(h){var y=h.guard,E=h.node;return y&&E.dataset.focusAutoGuard}).forEach(function(h){var y=h.node;return y.removeAttribute("tabIndex")}),ke(O,g.length,1,g),ke(O,-1,-1,g))}}}return r},er=function(r){B()&&r&&(r.stopPropagation(),r.preventDefault())},pe=function(){return me(B)},Wn=function(r){var n=r.target,t=r.currentTarget;t.contains(n)||Nn(t,n)},Un=function(){return null},rr=function(){be=!0},nr=function(){be=!1,W="just",me(function(){W="meanwhile"})},Bn=function(){document.addEventListener("focusin",er),document.addEventListener("focusout",pe),window.addEventListener("focus",rr),window.addEventListener("blur",nr)},jn=function(){document.removeEventListener("focusin",er),document.removeEventListener("focusout",pe),window.removeEventListener("focus",rr),window.removeEventListener("blur",nr)};function Gn(e){return e.filter(function(r){var n=r.disabled;return!n})}var tr={moveFocusInside:Qe,focusInside:Ve,focusNextElement:wn,focusPrevElement:Sn,focusFirstElement:In,focusLastElement:Pn,captureFocusRestore:Ye};function Hn(e){var r=e.slice(-1)[0];r&&!M&&Bn();var n=M,t=n&&r&&r.id===n.id;M=r,n&&!t&&(n.onDeactivation(),e.filter(function(u){var o=u.id;return o===n.id}).length||n.returnFocus(!r)),r?(F=null,(!t||n.observed!==r.observed)&&r.onActivation(tr),B(),me(B)):(jn(),F=null)}Ce.assignSyncMedium(Wn);Le.assignMedium(pe);Dr.assignMedium(function(e){return e(tr)});const $n=$r(Gn,Hn)(Un);var te=d.forwardRef(function(r,n){return d.createElement(oe,z({sideCar:$n,ref:n},r))}),ur=oe.propTypes||{};ur.sideCar;Ar(ur,["sideCar"]);te.propTypes={};const qn=te.default??te,Vn=e=>{const{initialFocusRef:r,finalFocusRef:n,contentRef:t,restoreFocus:u,children:o,isDisabled:a,autoFocus:i,persistentFocus:b,lockFocusAcrossFrames:c}=e,v=d.useCallback(()=>{r!=null&&r.current?r.current.focus():t!=null&&t.current&&Pr(t.current).length===0&&requestAnimationFrame(()=>{var l;(l=t.current)==null||l.focus()})},[r,t]),s=d.useCallback(()=>{var m;(m=n==null?void 0:n.current)==null||m.focus()},[n]),f=u&&!n;return Sr.jsx(qn,{crossFrame:c,persistentFocus:b,autoFocus:i,disabled:a,onActivation:v,onDeactivation:s,returnFocus:f,children:o})};Vn.displayName="FocusLock";export{Vn as F,Jn as _,X as a,Xn as b,Lr as c,Cr as u};
