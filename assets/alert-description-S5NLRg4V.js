import{j as h}from"./jsx-runtime-D_3pcrNB.js";import{r as n}from"./index-YTOF1_EJ.js";import{M as I,u as w,P as L,a as $,L as b}from"./proxy-sAlfivGQ.js";import{u as _,b as k}from"./alert-icon-KpGQ2Gkr.js";import{f as P,c as z}from"./use-style-config-CZvBo0tQ.js";import{c as N}from"./theming-props-BSFQkWYI.js";import{d as T}from"./define-styles-BSAHv3yx.js";class B extends n.Component{getSnapshotBeforeUpdate(r){const e=this.props.childRef.current;if(e&&r.isPresent&&!this.props.isPresent){const t=this.props.sizeRef.current;t.height=e.offsetHeight||0,t.width=e.offsetWidth||0,t.top=e.offsetTop,t.left=e.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function K({children:o,isPresent:r}){const e=n.useId(),t=n.useRef(null),a=n.useRef({width:0,height:0,top:0,left:0}),{nonce:d}=n.useContext(I);return n.useInsertionEffect(()=>{const{width:m,height:s,top:f,left:p}=a.current;if(r||!t.current||!m||!s)return;t.current.dataset.motionPopId=e;const l=document.createElement("style");return d&&(l.nonce=d),document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`
          [data-motion-pop-id="${e}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${s}px !important;
            top: ${f}px !important;
            left: ${p}px !important;
          }
        `),()=>{document.head.removeChild(l)}},[r]),h.jsx(B,{isPresent:r,childRef:t,sizeRef:a,children:n.cloneElement(o,{ref:t})})}const U=({children:o,initial:r,isPresent:e,onExitComplete:t,custom:a,presenceAffectsLayout:d,mode:m})=>{const s=w(F),f=n.useId(),p=n.useCallback(c=>{s.set(c,!0);for(const y of s.values())if(!y)return;t&&t()},[s,t]),l=n.useMemo(()=>({id:f,initial:r,isPresent:e,custom:a,onExitComplete:p,register:c=>(s.set(c,!1),()=>s.delete(c))}),d?[Math.random(),p]:[e,p]);return n.useMemo(()=>{s.forEach((c,y)=>s.set(y,!1))},[e]),n.useEffect(()=>{!e&&!s.size&&t&&t()},[e]),m==="popLayout"&&(o=h.jsx(K,{isPresent:e,children:o})),h.jsx(L.Provider,{value:l,children:o})};function F(){return new Map}const g=o=>o.key||"";function M(o){const r=[];return n.Children.forEach(o,e=>{n.isValidElement(e)&&r.push(e)}),r}const Y=({children:o,exitBeforeEnter:r,custom:e,initial:t=!0,onExitComplete:a,presenceAffectsLayout:d=!0,mode:m="sync"})=>{const s=n.useMemo(()=>M(o),[o]),f=s.map(g),p=n.useRef(!0),l=n.useRef(s),c=w(()=>new Map),[y,S]=n.useState(s),[x,j]=n.useState(s);$(()=>{p.current=!1,l.current=s;for(let u=0;u<x.length;u++){const i=g(x[u]);f.includes(i)?c.delete(i):c.get(i)!==!0&&c.set(i,!1)}},[x,f.length,f.join("-")]);const E=[];if(s!==y){let u=[...s];for(let i=0;i<x.length;i++){const C=x[i],v=g(C);f.includes(v)||(u.splice(i,0,C),E.push(C))}m==="wait"&&E.length&&(u=E),j(M(u)),S(s);return}const{forceRender:R}=n.useContext(b);return h.jsx(h.Fragment,{children:x.map(u=>{const i=g(u),C=s===x||f.includes(i),v=()=>{if(c.has(i))c.set(i,!0);else return;let A=!0;c.forEach(D=>{D||(A=!1)}),A&&(R==null||R(),j(l.current),a&&a())};return h.jsx(U,{isPresent:C,initial:!p.current||t?void 0:!1,custom:C?void 0:e,presenceAffectsLayout:d,mode:m,onExitComplete:C?void 0:v,children:u},i)})})},G=P(function(r,e){const t=_(),{status:a}=k();return h.jsx(z.div,{ref:e,"data-status":a,...r,className:N("chakra-alert__title",r.className),__css:t.title})});G.displayName="AlertTitle";const H=P(function(r,e){const{status:t}=k(),a=_(),d=T({display:"inline",...a.description});return h.jsx(z.div,{ref:e,"data-status":t,...r,className:N("chakra-alert__desc",r.className),__css:d})});H.displayName="AlertDescription";export{Y as A,G as a,H as b};
