var j=Object.defineProperty;var d=(o,r)=>j(o,"name",{value:r,configurable:!0});import{j as e,a as C}from"./jsx-runtime-ad6454d2.js";import{r as m}from"./index-2a7246bb.js";import{c as L}from"./index-348bd907.js";import{g as p,k as O,n as q,o as $,v as z,l as E,j as G}from"./chunk-QEVFQ4EU-457e66a5.js";import{u as W}from"./chunk-3NTD6TBK-00b6da1a.js";import{k as I}from"./emotion-react.browser.esm-142bf922.js";import{u as X,P as F,L as T,a as H}from"./chunk-7NBWC5PS-b1aac42a.js";import{B as J}from"./chunk-6CSUKJP7-895f77d3.js";import{P as K,a as Q,b as U}from"./chunk-KVBLLJMP-223fabe1.js";import{B as Y}from"./chunk-FQXH56BT-9b3b24a6.js";var[Ce,Z]=L({name:"CheckboxGroupContext",strict:!1});function ee(o){return e(p.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...o,children:e("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}d(ee,"CheckIcon");function te(o){return e(p.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...o,children:e("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}d(te,"IndeterminateIcon");function ne(o){const{isIndeterminate:r,isChecked:l,...t}=o,a=r?te:ee;return l||r?e(p.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:e(a,{...t})}):null}d(ne,"CheckboxIcon");var oe={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},re={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},ae=I({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),se=I({from:{opacity:0},to:{opacity:1}}),le=I({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),V=O(d(function(r,l){const t=Z(),a={...t,...r},i=q("Checkbox",a),s=$(r),{spacing:h="0.5rem",className:f,children:g,iconColor:v,iconSize:k,icon:y=e(ne,{}),isChecked:S,isDisabled:x=t==null?void 0:t.isDisabled,onChange:n,inputProps:c,...u}=s;let b=S;t!=null&&t.value&&s.value&&(b=t.value.includes(s.value));let P=n;t!=null&&t.onChange&&s.value&&(P=z(t.onChange,n));const{state:_,getInputProps:N,getCheckboxProps:R,getLabelProps:B,getRootProps:D}=W({...u,isDisabled:x,isChecked:b,onChange:P}),A=m.useMemo(()=>({animation:_.isIndeterminate?`${se} 20ms linear, ${le} 200ms linear`:`${ae} 200ms linear`,fontSize:k,color:v,...i.icon}),[v,k,,_.isIndeterminate,i.icon]),M=m.cloneElement(y,{__css:A,isIndeterminate:_.isIndeterminate,isChecked:_.isChecked});return C(p.label,{__css:{...re,...i.container},className:E("chakra-checkbox",f),...D(),children:[e("input",{className:"chakra-checkbox__input",...N(c,l)}),e(p.span,{__css:{...oe,...i.control},className:"chakra-checkbox__control",...R(),children:M}),g&&e(p.span,{className:"chakra-checkbox__label",...B(),__css:{marginStart:h,...i.label},children:g})]})},"Checkbox2"));V.displayName="Checkbox";const w=d(o=>{var x;const{displayValue:r,selections:l,defaultValue:t,onChange:a}=o,i=G("RmgMultiSelect"),[s,h]=m.useState(t),[f,g]=m.useState(!1),v=m.useRef(null),k=m.useRef(null);X({ref:v,handler:()=>g(!1)}),m.useEffect(()=>{t.toString()&&h(t)},[t.toString()]);const y=s.filter(n=>l.some(c=>c.value===n)).length,S=d((n,c)=>{if(c){if(!s.includes(n.value)){const u=[...s,n.value];h(u),a==null||a(u)}}else{const u=s.filter(b=>b!==n.value);h(u),a==null||a(u)}},"handleCheck");return e(J,{ref:v,sx:i,children:C(K,{placement:"bottom-start",isOpen:f,autoFocus:!1,children:[e(F,{children:C("div",{className:"rmg-multi-select__wrapper",role:"combobox","aria-expanded":f,"aria-controls":(x=k.current)==null?void 0:x.id,"aria-label":r,onClick:()=>g(n=>!n),children:[C("div",{className:`rmg-multi-select__field ${f?"active":""}`,children:[e("span",{children:r}),C(Y,{colorScheme:y?"blue":void 0,role:"status",children:[y,"/",l.length]})]}),e("div",{className:"rmg-multi-select__icon-wrapper",children:e("svg",{viewBox:"0 0 24 24",children:e("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})})})]})}),e(Q,{ref:k,children:e(U,{children:e(T,{children:l.map(n=>e(H,{children:e(V,{isChecked:s.includes(n.value),isDisabled:n.disabled,onChange:({target:{checked:c}})=>S(n,c),children:n.label})},n.value.toString()))})})})]})})},"RmgMultiSelect");try{w.displayName="RmgMultiSelect",w.__docgenInfo={description:"",displayName:"RmgMultiSelect",props:{displayValue:{defaultValue:null,description:"",name:"displayValue",required:!0,type:{name:"string"}},selections:{defaultValue:null,description:"",name:"selections",required:!0,type:{name:"Selection[]"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!0,type:{name:"string[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: string[]) => void)"}}}}}catch{}export{w as R};
//# sourceMappingURL=rmg-multi-select-0041d6ac.js.map
