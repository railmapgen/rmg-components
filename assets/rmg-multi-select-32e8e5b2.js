import{j as e,a as k}from"./jsx-runtime-670450c2.js";import{r as d}from"./index-f1f749bf.js";import{c as M}from"./index-6d9c108a.js";import{g as m,l as j,o as L,p as O,w as q,n as $,k as z}from"./chunk-QEVFQ4EU-efd3d6a4.js";import{u as E}from"./chunk-3NTD6TBK-b04e9b6d.js";import{k as S}from"./emotion-react.browser.esm-a44b8d61.js";import{u as G,P as W,L as X,a as F}from"./chunk-7NBWC5PS-d9ab3e8f.js";import{B as T}from"./chunk-6CSUKJP7-9c438e99.js";import{P as H,a as J,b as K}from"./chunk-KVBLLJMP-7614d09d.js";import{B as Q}from"./chunk-FQXH56BT-6847d39d.js";var[ge,U]=M({name:"CheckboxGroupContext",strict:!1});function Y(a){return e(m.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...a,children:e("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function Z(a){return e(m.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...a,children:e("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function ee(a){const{isIndeterminate:s,isChecked:l,...t}=a,o=s?Z:Y;return l||s?e(m.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:e(o,{...t})}):null}var te={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},ne={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},oe=S({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),re=S({from:{opacity:0},to:{opacity:1}}),ae=S({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),w=j(function(s,l){const t=U(),o={...t,...s},i=L("Checkbox",o),r=O(s),{spacing:p="0.5rem",className:h,children:f,iconColor:g,iconSize:v,icon:C=e(ee,{}),isChecked:_,isDisabled:y=t==null?void 0:t.isDisabled,onChange:n,inputProps:c,...u}=r;let x=_;t!=null&&t.value&&r.value&&(x=t.value.includes(r.value));let I=n;t!=null&&t.onChange&&r.value&&(I=q(t.onChange,n));const{state:b,getInputProps:V,getCheckboxProps:N,getLabelProps:R,getRootProps:B}=E({...u,isDisabled:y,isChecked:x,onChange:I}),D=d.useMemo(()=>({animation:b.isIndeterminate?`${re} 20ms linear, ${ae} 200ms linear`:`${oe} 200ms linear`,fontSize:v,color:g,...i.icon}),[g,v,,b.isIndeterminate,i.icon]),A=d.cloneElement(C,{__css:D,isIndeterminate:b.isIndeterminate,isChecked:b.isChecked});return k(m.label,{__css:{...ne,...i.container},className:$("chakra-checkbox",h),...B(),children:[e("input",{className:"chakra-checkbox__input",...V(c,l)}),e(m.span,{__css:{...te,...i.control},className:"chakra-checkbox__control",...N(),children:A}),f&&e(m.span,{className:"chakra-checkbox__label",...R(),__css:{marginStart:p,...i.label},children:f})]})});w.displayName="Checkbox";const P=a=>{var y;const{displayValue:s,selections:l,defaultValue:t,onChange:o}=a,i=z("RmgMultiSelect"),[r,p]=d.useState(t),[h,f]=d.useState(!1),g=d.useRef(null),v=d.useRef(null);G({ref:g,handler:()=>f(!1)}),d.useEffect(()=>{t.toString()&&p(t)},[t.toString()]);const C=r.filter(n=>l.some(c=>c.value===n)).length,_=(n,c)=>{if(c){if(!r.includes(n.value)){const u=[...r,n.value];p(u),o==null||o(u)}}else{const u=r.filter(x=>x!==n.value);p(u),o==null||o(u)}};return e(T,{ref:g,sx:i,children:k(H,{placement:"bottom-start",isOpen:h,autoFocus:!1,children:[e(W,{children:k("div",{className:"rmg-multi-select__wrapper",role:"combobox","aria-expanded":h,"aria-controls":(y=v.current)==null?void 0:y.id,"aria-label":s,onClick:()=>f(n=>!n),children:[k("div",{className:`rmg-multi-select__field ${h?"active":""}`,children:[e("span",{children:s}),k(Q,{colorScheme:C?"blue":void 0,role:"status",children:[C,"/",l.length]})]}),e("div",{className:"rmg-multi-select__icon-wrapper",children:e("svg",{viewBox:"0 0 24 24",children:e("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})})})]})}),e(J,{ref:v,children:e(K,{children:e(X,{children:l.map(n=>e(F,{children:e(w,{isChecked:r.includes(n.value),isDisabled:n.disabled,onChange:({target:{checked:c}})=>_(n,c),children:n.label})},n.value.toString()))})})})]})})};try{P.displayName="RmgMultiSelect",P.__docgenInfo={description:"",displayName:"RmgMultiSelect",props:{displayValue:{defaultValue:null,description:"",name:"displayValue",required:!0,type:{name:"string"}},selections:{defaultValue:null,description:"",name:"selections",required:!0,type:{name:"Selection[]"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!0,type:{name:"string[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: string[]) => void)"}}}}}catch{}export{P as R};
//# sourceMappingURL=rmg-multi-select-32e8e5b2.js.map
