import{c as be}from"./chunk-56K2BSAJ-DdNIyAaK.js";import{u as B}from"./index-BDB9_2GA.js";import{u as I,a as ye}from"./index-Cii9CPQx.js";import{m as Z}from"./index-CRSocYPi.js";import{e as a,h as l}from"./chunk-ZJJGQIVY-D9s8d0El.js";import{r as o}from"./index-CleY8y_P.js";var pe={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},he=()=>typeof document<"u",$=!1,w=null,b=!1,R=!1,K=new Set;function x(e,u){K.forEach(n=>n(e,u))}var ke=typeof window<"u"&&window.navigator!=null?/^Mac/.test(window.navigator.platform):!1;function we(e){return!(e.metaKey||!ke&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function ee(e){b=!0,we(e)&&(w="keyboard",x("keyboard",e))}function p(e){if(w="pointer",e.type==="mousedown"||e.type==="pointerdown"){b=!0;const u=e.composedPath?e.composedPath()[0]:e.target;let n=!1;try{n=u.matches(":focus-visible")}catch{}if(n)return;x("pointer",e)}}function Ee(e){return e.mozInputSource===0&&e.isTrusted?!0:e.detail===0&&!e.pointerType}function Ce(e){Ee(e)&&(b=!0,w="virtual")}function ge(e){e.target===window||e.target===document||(!b&&!R&&(w="virtual",x("virtual",e)),b=!1,R=!1)}function Le(){b=!1,R=!0}function te(){return w!=="pointer"}function Pe(){if(!he()||$)return;const{focus:e}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...n){b=!0,e.apply(this,n)},document.addEventListener("keydown",ee,!0),document.addEventListener("keyup",ee,!0),document.addEventListener("click",Ce,!0),window.addEventListener("focus",ge,!0),window.addEventListener("blur",Le,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",p,!0),document.addEventListener("pointermove",p,!0),document.addEventListener("pointerup",p,!0)):(document.addEventListener("mousedown",p,!0),document.addEventListener("mousemove",p,!0),document.addEventListener("mouseup",p,!0)),$=!0}function Se(e){Pe(),e(te());const u=()=>e(te());return K.add(u),()=>{K.delete(u)}}function Fe(e,u=[]){const n=Object.assign({},e);for(const i of u)i in n&&delete n[i];return n}function He(e={}){const u=be(e),{isDisabled:n,isReadOnly:i,isRequired:P,isInvalid:d,id:A,onBlur:ne,onFocus:ae,"aria-describedby":H}=u,{defaultChecked:U,isChecked:V,isFocusable:oe,onChange:re,isIndeterminate:m,name:q,value:O,tabIndex:T=void 0,"aria-label":W,"aria-labelledby":_,"aria-invalid":S,...ie}=e,F=Fe(ie,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),D=I(re),j=I(ne),z=I(ae),[E,se]=o.useState(!1),[v,C]=o.useState(!1),[h,G]=o.useState(!1),[k,y]=o.useState(!1);o.useEffect(()=>Se(se),[]);const c=o.useRef(null),[N,ue]=o.useState(!0),[de,g]=o.useState(!!U),M=V!==void 0,r=M?V:de,J=o.useCallback(t=>{if(i||n){t.preventDefault();return}M||g(r?t.target.checked:m?!0:t.target.checked),D==null||D(t)},[i,n,r,M,m,D]);B(()=>{c.current&&(c.current.indeterminate=!!m)},[m]),ye(()=>{n&&C(!1)},[n,C]),B(()=>{const t=c.current;if(!(t!=null&&t.form))return;const s=()=>{g(!!U)};return t.form.addEventListener("reset",s),()=>{var f;return(f=t.form)==null?void 0:f.removeEventListener("reset",s)}},[]);const Q=n&&!oe,X=o.useCallback(t=>{t.key===" "&&y(!0)},[y]),Y=o.useCallback(t=>{t.key===" "&&y(!1)},[y]);B(()=>{if(!c.current)return;c.current.checked!==r&&g(c.current.checked)},[c.current]);const le=o.useCallback((t={},s=null)=>{const f=L=>{v&&L.preventDefault(),y(!0)};return{...t,ref:s,"data-active":a(k),"data-hover":a(h),"data-checked":a(r),"data-focus":a(v),"data-focus-visible":a(v&&E),"data-indeterminate":a(m),"data-disabled":a(n),"data-invalid":a(d),"data-readonly":a(i),"aria-hidden":!0,onMouseDown:l(t.onMouseDown,f),onMouseUp:l(t.onMouseUp,()=>y(!1)),onMouseEnter:l(t.onMouseEnter,()=>G(!0)),onMouseLeave:l(t.onMouseLeave,()=>G(!1))}},[k,r,n,v,E,h,m,d,i]),ce=o.useCallback((t={},s=null)=>({...t,ref:s,"data-active":a(k),"data-hover":a(h),"data-checked":a(r),"data-focus":a(v),"data-focus-visible":a(v&&E),"data-indeterminate":a(m),"data-disabled":a(n),"data-invalid":a(d),"data-readonly":a(i)}),[k,r,n,v,E,h,m,d,i]),fe=o.useCallback((t={},s=null)=>({...F,...t,ref:Z(s,f=>{f&&ue(f.tagName==="LABEL")}),onClick:l(t.onClick,()=>{var f;N||((f=c.current)==null||f.click(),requestAnimationFrame(()=>{var L;(L=c.current)==null||L.focus({preventScroll:!0})}))}),"data-disabled":a(n),"data-checked":a(r),"data-invalid":a(d)}),[F,n,r,d,N]),me=o.useCallback((t={},s=null)=>({...t,ref:Z(c,s),type:"checkbox",name:q,value:O,id:A,tabIndex:T,onChange:l(t.onChange,J),onBlur:l(t.onBlur,j,()=>C(!1)),onFocus:l(t.onFocus,z,()=>C(!0)),onKeyDown:l(t.onKeyDown,X),onKeyUp:l(t.onKeyUp,Y),required:P,checked:r,disabled:Q,readOnly:i,"aria-label":W,"aria-labelledby":_,"aria-invalid":S?!!S:d,"aria-describedby":H,"aria-disabled":n,style:pe}),[q,O,A,J,j,z,X,Y,P,r,Q,i,W,_,S,d,H,n,T]),ve=o.useCallback((t={},s=null)=>({...t,ref:s,onMouseDown:l(t.onMouseDown,De),"data-disabled":a(n),"data-checked":a(r),"data-invalid":a(d)}),[r,n,d]);return{state:{isInvalid:d,isFocused:v,isChecked:r,isActive:k,isHovered:h,isIndeterminate:m,isDisabled:n,isReadOnly:i,isRequired:P},getRootProps:fe,getCheckboxProps:le,getIndicatorProps:ce,getInputProps:me,getLabelProps:ve,htmlProps:F}}function De(e){e.preventDefault(),e.stopPropagation()}export{He as u};
