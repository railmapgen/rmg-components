import{j as t}from"./jsx-runtime-vNq4Oc-g.js";import{r as l}from"./index-4g5l5LRQ.js";import{R as h}from"./rmg-debounced-input-BhMYZ_lG.js";import{P as V,a as j,b as R}from"./chunk-24I2HV4N-2pl4hl1n.js";import{P as v,L as C,a as b}from"./chunk-DY5QRMBO-HUTS3H-i.js";import{B as I}from"./chunk-PULVB27S-fsjjELE9.js";import{u as _}from"./chunk-R5W6LHQW-w_hUyVb1.js";import{B as q}from"./chunk-UVUR7MCU-XHz5wHrf.js";function c(i){const{data:u,displayValue:n,displayHandler:d,predicate:f,defaultValue:a,onChange:s,isInvalid:y}=i,p=l.useRef(null),[m,r]=l.useState(a?n(a):""),[x,o]=l.useState(!1);_({ref:p,handler:()=>o(!1)}),l.useEffect(()=>{r(a?n(a):"")},[JSON.stringify(u),JSON.stringify(a)]);const g=e=>{r(n(e)),o(!1),s==null||s(e)};return t.jsx(I,{ref:p,children:t.jsxs(V,{placement:"bottom-start",isOpen:x,autoFocus:!1,children:[t.jsx(v,{children:t.jsx(h,{defaultValue:m,onDebouncedChange:e=>r(e),onFocus:()=>o(!0),isInvalid:y})}),t.jsx(j,{w:"unset",minW:200,children:t.jsx(R,{p:0,children:t.jsx(C,{role:"menu",maxH:270,overflowY:"auto",children:u.filter(e=>f(e,m)).map(e=>t.jsx(b,{role:"none",children:t.jsx(q,{role:"menuitem",size:"sm",variant:"ghost",justifyContent:"flex-start",flexShrink:0,borderRadius:0,w:"100%",onClick:()=>g(e),children:d?d(e):n(e)})},e.id))})})})]})})}try{c.displayName="RmgAutoComplete",c.__docgenInfo={description:"",displayName:"RmgAutoComplete",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"T[]"}},displayValue:{defaultValue:null,description:"",name:"displayValue",required:!0,type:{name:"(item: T) => string"}},displayHandler:{defaultValue:null,description:"",name:"displayHandler",required:!1,type:{name:"((item: T) => string | number | ReactElement<any, string | JSXElementConstructor<any>>)"}},predicate:{defaultValue:null,description:"",name:"predicate",required:!0,type:{name:"(item: T, input: string) => boolean"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"{ id: string; }"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((item: T) => void)"}},isInvalid:{defaultValue:null,description:"",name:"isInvalid",required:!1,type:{name:"boolean"}}}}}catch{}export{c as R};
