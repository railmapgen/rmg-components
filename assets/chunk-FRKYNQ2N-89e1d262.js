import{c as z}from"./index-f800231c.js";import{j as h}from"./jsx-runtime-94f6e698.js";import{u as g}from"./index-a91c9d3c.js";import{r as A}from"./index-8ce4a492.js";import{r as t}from"./index-8db94870.js";import{b as w,f as K,c as B,P as G,L as H}from"./motion-03f83e4d.js";import{u as k,b as L}from"./chunk-RWQIUCJP-ee763db7.js";import{f as j,c as S,d as T}from"./chunk-QEVFQ4EU-a3a83747.js";var[V,W]=z({strict:!1,name:"PortalManagerContext"});function q(r){const{children:s,zIndex:e}=r;return h.jsx(V,{value:{zIndex:e},children:s})}q.displayName="PortalManager";var[_,J]=z({strict:!1,name:"PortalContext"}),M="chakra-portal",Q=".chakra-portal",X=r=>h.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:r.zIndex,top:0,left:0,right:0},children:r.children}),Y=r=>{const{appendToParentPortal:s,children:e}=r,[n,l]=t.useState(null),o=t.useRef(null),[,a]=t.useState({});t.useEffect(()=>a({}),[]);const u=J(),f=W();g(()=>{if(!n)return;const d=n.ownerDocument,c=s?u??d.body:d.body;if(!c)return;o.current=d.createElement("div"),o.current.className=M,c.appendChild(o.current),a({});const p=o.current;return()=>{c.contains(p)&&c.removeChild(p)}},[n]);const m=f!=null&&f.zIndex?h.jsx(X,{zIndex:f==null?void 0:f.zIndex,children:e}):e;return o.current?A.createPortal(h.jsx(_,{value:o.current,children:m}),o.current):h.jsx("span",{ref:d=>{d&&l(d)}})},Z=r=>{const{children:s,containerRef:e,appendToParentPortal:n}=r,l=e.current,o=l??(typeof window<"u"?document.body:void 0),a=t.useMemo(()=>{const f=l==null?void 0:l.ownerDocument.createElement("div");return f&&(f.className=M),f},[l]),[,u]=t.useState({});return g(()=>u({}),[]),g(()=>{if(!(!a||!o))return o.appendChild(a),()=>{o.removeChild(a)}},[a,o]),o&&a?A.createPortal(h.jsx(_,{value:n?a:null,children:s}),a):null};function I(r){const s={appendToParentPortal:!0,...r},{containerRef:e,...n}=s;return e?h.jsx(Z,{containerRef:e,...n}):h.jsx(Y,{...n})}I.className=M;I.selector=Q;I.displayName="Portal";function b(){const r=t.useRef(!1);return w(()=>(r.current=!0,()=>{r.current=!1}),[]),r}function ee(){const r=b(),[s,e]=t.useState(0),n=t.useCallback(()=>{r.current&&e(s+1)},[s]);return[t.useCallback(()=>K.postRender(n),[n]),s]}class te extends t.Component{getSnapshotBeforeUpdate(s){const e=this.props.childRef.current;if(e&&s.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=e.offsetHeight||0,n.width=e.offsetWidth||0,n.top=e.offsetTop,n.left=e.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function re({children:r,isPresent:s}){const e=t.useId(),n=t.useRef(null),l=t.useRef({width:0,height:0,top:0,left:0});return t.useInsertionEffect(()=>{const{width:o,height:a,top:u,left:f}=l.current;if(s||!n.current||!o||!a)return;n.current.dataset.motionPopId=e;const m=document.createElement("style");return document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${e}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${u}px !important;
            left: ${f}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[s]),t.createElement(te,{isPresent:s,childRef:n,sizeRef:l},t.cloneElement(r,{ref:n}))}const R=({children:r,initial:s,isPresent:e,onExitComplete:n,custom:l,presenceAffectsLayout:o,mode:a})=>{const u=B(ne),f=t.useId(),m=t.useMemo(()=>({id:f,initial:s,isPresent:e,custom:l,onExitComplete:d=>{u.set(d,!0);for(const c of u.values())if(!c)return;n&&n()},register:d=>(u.set(d,!1),()=>u.delete(d))}),o?void 0:[e]);return t.useMemo(()=>{u.forEach((d,c)=>u.set(c,!1))},[e]),t.useEffect(()=>{!e&&!u.size&&n&&n()},[e]),a==="popLayout"&&(r=t.createElement(re,{isPresent:e},r)),t.createElement(G.Provider,{value:m},r)};function ne(){return new Map}function se(r){return t.useEffect(()=>()=>r(),[])}const C=r=>r.key||"";function oe(r,s){r.forEach(e=>{const n=C(e);s.set(n,e)})}function ae(r){const s=[];return t.Children.forEach(r,e=>{t.isValidElement(e)&&s.push(e)}),s}const Ce=({children:r,custom:s,initial:e=!0,onExitComplete:n,exitBeforeEnter:l,presenceAffectsLayout:o=!0,mode:a="sync"})=>{let[u]=ee();const f=t.useContext(H).forceRender;f&&(u=f);const m=b(),d=ae(r);let c=d;const p=new Set,P=t.useRef(c),E=t.useRef(new Map).current,y=t.useRef(!0);if(w(()=>{y.current=!1,oe(d,E),P.current=c}),se(()=>{y.current=!0,E.clear(),p.clear()}),y.current)return t.createElement(t.Fragment,null,c.map(i=>t.createElement(R,{key:C(i),isPresent:!0,initial:e?void 0:!1,presenceAffectsLayout:o,mode:a},i)));c=[...c];const v=P.current.map(C),N=d.map(C),D=v.length;for(let i=0;i<D;i++){const x=v[i];N.indexOf(x)===-1&&p.add(x)}return a==="wait"&&p.size&&(c=[]),p.forEach(i=>{if(N.indexOf(i)!==-1)return;const x=E.get(i);if(!x)return;const F=v.indexOf(i),O=()=>{E.delete(i),p.delete(i);const U=P.current.findIndex($=>$.key===i);if(P.current.splice(U,1),!p.size){if(P.current=d,m.current===!1)return;u(),n&&n()}};c.splice(F,0,t.createElement(R,{key:C(x),isPresent:!1,onExitComplete:O,custom:s,presenceAffectsLayout:o,mode:a},x))}),c=c.map(i=>{const x=i.key;return p.has(x)?i:t.createElement(R,{key:C(i),isPresent:!0,presenceAffectsLayout:o,mode:a},i)}),t.createElement(t.Fragment,null,p.size?c:c.map(i=>t.cloneElement(i)))};var ce=j(function(s,e){const n=k(),{status:l}=L(),o={display:"inline",...n.description};return h.jsx(S.div,{ref:e,"data-status":l,...s,className:T("chakra-alert__desc",s.className),__css:o})});ce.displayName="AlertDescription";var ie=j(function(s,e){const n=k(),{status:l}=L();return h.jsx(S.div,{ref:e,"data-status":l,...s,className:T("chakra-alert__title",s.className),__css:n.title})});ie.displayName="AlertTitle";export{Ce as A,I as P,ie as a,ce as b,q as c};
//# sourceMappingURL=chunk-FRKYNQ2N-89e1d262.js.map
