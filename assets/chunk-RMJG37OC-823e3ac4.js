import{r as c}from"./index-61bf1805.js";function v(e){return e!=null&&typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE}function l(e){var t;return v(e)&&(t=e.ownerDocument)!=null?t:document}function m(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var w=m(),D=w?c.useLayoutEffect:c.useEffect;function L(e,t=[]){const n=c.useRef(e);return D(()=>{n.current=e}),c.useCallback((...r)=>{var s;return(s=n.current)==null?void 0:s.call(n,...r)},t)}function M(e){const{ref:t,handler:n,enabled:r=!0}=e,s=L(n),o=c.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;c.useEffect(()=>{if(!r)return;const a=i=>{d(i,t)&&(o.isPointerDown=!0)},f=i=>{if(o.ignoreEmulatedMouseEvents){o.ignoreEmulatedMouseEvents=!1;return}o.isPointerDown&&n&&d(i,t)&&(o.isPointerDown=!1,s(i))},E=i=>{o.ignoreEmulatedMouseEvents=!0,n&&o.isPointerDown&&d(i,t)&&(o.isPointerDown=!1,s(i))},u=l(t.current);return u.addEventListener("mousedown",a,!0),u.addEventListener("mouseup",f,!0),u.addEventListener("touchstart",a,!0),u.addEventListener("touchend",E,!0),()=>{u.removeEventListener("mousedown",a,!0),u.removeEventListener("mouseup",f,!0),u.removeEventListener("touchstart",a,!0),u.removeEventListener("touchend",E,!0)}},[n,t,s,o,r])}function d(e,t){var n;const r=e.target;return r&&!l(r).contains(r)?!1:!((n=t.current)!=null&&n.contains(r))}export{M as u};
//# sourceMappingURL=chunk-RMJG37OC-823e3ac4.js.map
