import{r as e}from"./index-8db94870.js";import{b as k,f as T,c as $,P as j,L as D}from"./motion-ccbe7ff5.js";import{u as w,b as M}from"./chunk-RWQIUCJP-0dfd773b.js";import{f as v,c as I,d as P}from"./chunk-QEVFQ4EU-3b04e59c.js";import{j as _}from"./jsx-runtime-94f6e698.js";function z(){const r=e.useRef(!1);return k(()=>(r.current=!0,()=>{r.current=!1}),[]),r}function U(){const r=z(),[s,t]=e.useState(0),n=e.useCallback(()=>{r.current&&t(s+1)},[s]);return[e.useCallback(()=>T.postRender(n),[n]),s]}class K extends e.Component{getSnapshotBeforeUpdate(s){const t=this.props.childRef.current;if(t&&s.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function O({children:r,isPresent:s}){const t=e.useId(),n=e.useRef(null),a=e.useRef({width:0,height:0,top:0,left:0});return e.useInsertionEffect(()=>{const{width:u,height:l,top:i,left:h}=a.current;if(s||!n.current||!u||!l)return;n.current.dataset.motionPopId=t;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${l}px !important;
            top: ${i}px !important;
            left: ${h}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[s]),e.createElement(K,{isPresent:s,childRef:n,sizeRef:a},e.cloneElement(r,{ref:n}))}const g=({children:r,initial:s,isPresent:t,onExitComplete:n,custom:a,presenceAffectsLayout:u,mode:l})=>{const i=$(B),h=e.useId(),d=e.useMemo(()=>({id:h,initial:s,isPresent:t,custom:a,onExitComplete:f=>{i.set(f,!0);for(const c of i.values())if(!c)return;n&&n()},register:f=>(i.set(f,!1),()=>i.delete(f))}),u?void 0:[t]);return e.useMemo(()=>{i.forEach((f,c)=>i.set(c,!1))},[t]),e.useEffect(()=>{!t&&!i.size&&n&&n()},[t]),l==="popLayout"&&(r=e.createElement(O,{isPresent:t},r)),e.createElement(j.Provider,{value:d},r)};function B(){return new Map}function G(r){return e.useEffect(()=>()=>r(),[])}const x=r=>r.key||"";function H(r,s){r.forEach(t=>{const n=x(t);s.set(n,t)})}function V(r){const s=[];return e.Children.forEach(r,t=>{e.isValidElement(t)&&s.push(t)}),s}const ee=({children:r,custom:s,initial:t=!0,onExitComplete:n,exitBeforeEnter:a,presenceAffectsLayout:u=!0,mode:l="sync"})=>{let[i]=U();const h=e.useContext(D).forceRender;h&&(i=h);const d=z(),f=V(r);let c=f;const p=new Set,E=e.useRef(c),R=e.useRef(new Map).current,y=e.useRef(!0);if(k(()=>{y.current=!1,H(f,R),E.current=c}),G(()=>{y.current=!0,R.clear(),p.clear()}),y.current)return e.createElement(e.Fragment,null,c.map(o=>e.createElement(g,{key:x(o),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:u,mode:l},o)));c=[...c];const C=E.current.map(x),A=f.map(x),L=C.length;for(let o=0;o<L;o++){const m=C[o];A.indexOf(m)===-1&&p.add(m)}return l==="wait"&&p.size&&(c=[]),p.forEach(o=>{if(A.indexOf(o)!==-1)return;const m=R.get(o);if(!m)return;const b=C.indexOf(o),F=()=>{R.delete(o),p.delete(o);const N=E.current.findIndex(S=>S.key===o);if(E.current.splice(N,1),!p.size){if(E.current=f,d.current===!1)return;i(),n&&n()}};c.splice(b,0,e.createElement(g,{key:x(m),isPresent:!1,onExitComplete:F,custom:s,presenceAffectsLayout:u,mode:l},m))}),c=c.map(o=>{const m=o.key;return p.has(m)?o:e.createElement(g,{key:x(o),isPresent:!0,presenceAffectsLayout:u,mode:l},o)}),e.createElement(e.Fragment,null,p.size?c:c.map(o=>e.cloneElement(o)))};var W=v(function(s,t){const n=w(),{status:a}=M(),u={display:"inline",...n.description};return _.jsx(I.div,{ref:t,"data-status":a,...s,className:P("chakra-alert__desc",s.className),__css:u})});W.displayName="AlertDescription";var q=v(function(s,t){const n=w(),{status:a}=M();return _.jsx(I.div,{ref:t,"data-status":a,...s,className:P("chakra-alert__title",s.className),__css:n.title})});q.displayName="AlertTitle";export{ee as A,q as a,W as b};
//# sourceMappingURL=chunk-FRKYNQ2N-8693ef2a.js.map
