import{j as h}from"./jsx-runtime-D_3pcrNB.js";import{r as s}from"./index-YTOF1_EJ.js";import{M as L,u as w,P as T,a as $,b as K,L as U}from"./proxy-Bkuy0yg-.js";import{u as _,b as k}from"./alert-icon-CcqpWPj5.js";import{f as z,c as N}from"./use-style-config-Be-hB2Uk.js";import{c as S}from"./theming-props-CtumPZyV.js";import{d as B}from"./define-styles-BSAHv3yx.js";class F extends s.Component{getSnapshotBeforeUpdate(n){const e=this.props.childRef.current;if(e&&n.isPresent&&!this.props.isPresent){const t=this.props.sizeRef.current;t.height=e.offsetHeight||0,t.width=e.offsetWidth||0,t.top=e.offsetTop,t.left=e.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function G({children:r,isPresent:n}){const e=s.useId(),t=s.useRef(null),a=s.useRef({width:0,height:0,top:0,left:0}),{nonce:f}=s.useContext(L);return s.useInsertionEffect(()=>{const{width:d,height:i,top:m,left:o}=a.current;if(n||!t.current||!d||!i)return;t.current.dataset.motionPopId=e;const l=document.createElement("style");return f&&(l.nonce=f),document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`
          [data-motion-pop-id="${e}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${i}px !important;
            top: ${m}px !important;
            left: ${o}px !important;
          }
        `),()=>{document.head.removeChild(l)}},[n]),h.jsx(F,{isPresent:n,childRef:t,sizeRef:a,children:s.cloneElement(r,{ref:t})})}const H=({children:r,initial:n,isPresent:e,onExitComplete:t,custom:a,presenceAffectsLayout:f,mode:d})=>{const i=w(O),m=s.useId(),o=s.useCallback(p=>{i.set(p,!0);for(const y of i.values())if(!y)return;t&&t()},[i,t]),l=s.useMemo(()=>({id:m,initial:n,isPresent:e,custom:a,onExitComplete:o,register:p=>(i.set(p,!1),()=>i.delete(p))}),f?[Math.random(),o]:[e,o]);return s.useMemo(()=>{i.forEach((p,y)=>i.set(y,!1))},[e]),s.useEffect(()=>{!e&&!i.size&&t&&t()},[e]),d==="popLayout"&&(r=h.jsx(G,{isPresent:e,children:r})),h.jsx(T.Provider,{value:l,children:r})};function O(){return new Map}const R=r=>r.key||"";function P(r){const n=[];return s.Children.forEach(r,e=>{s.isValidElement(e)&&n.push(e)}),n}const te=({children:r,custom:n,initial:e=!0,onExitComplete:t,presenceAffectsLayout:a=!0,mode:f="sync",propagate:d=!1})=>{const[i,m]=$(d),o=s.useMemo(()=>P(r),[r]),l=d&&!i?[]:o.map(R),p=s.useRef(!0),y=s.useRef(o),v=w(()=>new Map),[b,D]=s.useState(o),[C,A]=s.useState(o);K(()=>{p.current=!1,y.current=o;for(let u=0;u<C.length;u++){const c=R(C[u]);l.includes(c)?v.delete(c):v.get(c)!==!0&&v.set(c,!1)}},[C,l.length,l.join("-")]);const g=[];if(o!==b){let u=[...o];for(let c=0;c<C.length;c++){const x=C[c],j=R(x);l.includes(j)||(u.splice(c,0,x),g.push(x))}f==="wait"&&g.length&&(u=g),A(P(u)),D(o);return}const{forceRender:E}=s.useContext(U);return h.jsx(h.Fragment,{children:C.map(u=>{const c=R(u),x=d&&!i?!1:o===C||l.includes(c),j=()=>{if(v.has(c))v.set(c,!0);else return;let M=!0;v.forEach(I=>{I||(M=!1)}),M&&(E==null||E(),A(y.current),d&&(m==null||m()),t&&t())};return h.jsx(H,{isPresent:x,initial:!p.current||e?void 0:!1,custom:x?void 0:n,presenceAffectsLayout:a,mode:f,onExitComplete:x?void 0:j,children:u},c)})})},V=z(function(n,e){const t=_(),{status:a}=k();return h.jsx(N.div,{ref:e,"data-status":a,...n,className:S("chakra-alert__title",n.className),__css:t.title})});V.displayName="AlertTitle";const W=z(function(n,e){const{status:t}=k(),a=_(),f=B({display:"inline",...a.description});return h.jsx(N.div,{ref:e,"data-status":t,...n,className:S("chakra-alert__desc",n.className),__css:f})});W.displayName="AlertDescription";export{te as A,V as a,W as b};
