{"version":3,"file":"index.20564a1c.js","sources":["../../node_modules/@railmapgen/rmg-runtime/dist/util/util.js","../../node_modules/@railmapgen/rmg-runtime/dist/util/rmg-types.js","../../node_modules/@railmapgen/rmg-runtime/dist/service/config.js","../../node_modules/@railmapgen/rmg-runtime/dist/service/event-logger.js","../../node_modules/@railmapgen/rmg-runtime/dist/service/channel.js","../../node_modules/@railmapgen/rmg-runtime/dist/util/types.js","../../node_modules/@railmapgen/rmg-runtime/dist/service/frame.js","../../node_modules/@railmapgen/rmg-runtime/dist/util/constant.js","../../node_modules/@railmapgen/rmg-runtime/dist/service/settings.js","../../node_modules/@railmapgen/rmg-runtime/dist/service/benchmark.js","../../node_modules/@railmapgen/rmg-runtime/dist/service/storage.js","../../node_modules/@railmapgen/rmg-runtime/dist/index.js"],"sourcesContent":["export var waitFor = function (ms) {\n    return new Promise(function (resolve) {\n        setTimeout(resolve, ms);\n    });\n};\n","export var RmgEnv;\n(function (RmgEnv) {\n    RmgEnv[\"DEV\"] = \"DEV\";\n    RmgEnv[\"UAT\"] = \"UAT\";\n    RmgEnv[\"PRD\"] = \"PRD\";\n})(RmgEnv || (RmgEnv = {}));\nexport var RmgInstance;\n(function (RmgInstance) {\n    RmgInstance[\"GITHUB\"] = \"GitHub\";\n    RmgInstance[\"GITLAB\"] = \"GitLab\";\n    RmgInstance[\"BITBUCKET\"] = \"Bitbucket\";\n    RmgInstance[\"LOCALHOST\"] = \"localhost\";\n    RmgInstance[\"UNKNOWN\"] = \"unknown\";\n})(RmgInstance || (RmgInstance = {}));\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { waitFor } from '../util/util';\nimport { RmgEnv, RmgInstance } from '../util/rmg-types';\nvar component = 'rmg-unknown';\nvar version = 'unknown';\nvar environment = RmgEnv.PRD;\nvar instance = RmgInstance.UNKNOWN;\nvar fetchInfoJson = function () { return __awaiter(void 0, void 0, void 0, function () {\n    var basePath, url, res, info;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                basePath = window.location.pathname.split('/')[1];\n                url = basePath ? \"/\".concat(basePath, \"/info.json\") : '/info.json';\n                return [4 /*yield*/, fetch(url)];\n            case 1:\n                res = _a.sent();\n                if (!res.ok) return [3 /*break*/, 3];\n                return [4 /*yield*/, res.json()];\n            case 2:\n                info = (_a.sent());\n                component = info.component;\n                version = info.version;\n                environment = info.environment;\n                instance = info.instance;\n                _a.label = 3;\n            case 3: return [2 /*return*/];\n        }\n    });\n}); };\nvar waitForSettled = function () { return __awaiter(void 0, void 0, void 0, function () {\n    var e_1;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                _a.trys.push([0, 2, , 3]);\n                console.log('[rmg-runtime] Loading config...');\n                return [4 /*yield*/, Promise.race([fetchInfoJson(), waitFor(10 * 1000)])];\n            case 1:\n                _a.sent();\n                console.log('[rmg-runtime] Config loaded!');\n                return [3 /*break*/, 3];\n            case 2:\n                e_1 = _a.sent();\n                console.error('[rmg-runtime] Failed to load config');\n                return [3 /*break*/, 3];\n            case 3: return [2 /*return*/];\n        }\n    });\n}); };\nvar getComponent = function () {\n    return component;\n};\nvar getVersion = function () {\n    return version;\n};\nvar getEnvironment = function () {\n    return environment;\n};\nvar getInstance = function () {\n    return instance;\n};\nexport default {\n    waitForSettled: waitForSettled,\n    getComponent: getComponent,\n    getVersion: getVersion,\n    getEnvironment: getEnvironment,\n    getInstance: getInstance,\n};\n","import config from './config';\nimport { RmgEnv } from '../util/rmg-types';\nwindow.dataLayer = window.dataLayer || [];\nvar installGtag = function () {\n    var script = document.createElement('script');\n    script.async = true;\n    script.src = 'https://www.googletagmanager.com/gtag/js?id=G-2HP8Y4MRRQ';\n    document.head.append(script);\n};\nfunction gtag() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    if (config.getEnvironment() !== RmgEnv.DEV) {\n        // eslint-disable-next-line prefer-rest-params\n        return window.dataLayer.push(arguments);\n    }\n    else {\n        console.log('[rmg-runtime] Not going to send event in DEV environment', args);\n    }\n}\nvar customEvent = function (type, data) {\n    gtag('event', type, data);\n};\nvar initLogger = function () {\n    installGtag();\n    gtag('js', new Date());\n    gtag('config', 'G-2HP8Y4MRRQ', {\n        appName: config.getComponent(),\n        version: config.getVersion(),\n        environment: config.getEnvironment(),\n        instance: config.getInstance(),\n    });\n};\nconfig.waitForSettled().then(function () {\n    initLogger();\n});\nexport default { customEvent: customEvent };\n","var RMG_RUNTIME_CHANNEL_NAME = 'rmg-runtime-channel';\nvar eventListeners = {};\nvar channel;\ntry {\n    channel = new BroadcastChannel(RMG_RUNTIME_CHANNEL_NAME);\n    channel.onmessage = function (ev) {\n        var _a;\n        var _b = ev.data, event = _b.event, data = _b.data, frameId = _b.frameId;\n        (_a = eventListeners[event]) === null || _a === void 0 ? void 0 : _a.forEach(function (cb) { return cb(data, frameId); });\n    };\n}\ncatch (e) {\n    console.warn('[rmg-runtime] Failed to initiate broadcast channel. Some features may be unavailable.', e);\n}\nvar postEvent = function (event, data) {\n    var _a;\n    channel === null || channel === void 0 ? void 0 : channel.postMessage({ event: event, data: data, frameId: (_a = window.frameElement) === null || _a === void 0 ? void 0 : _a.id });\n};\nvar onMessage = function (event, callback) {\n    var _a;\n    if (!(event in eventListeners)) {\n        eventListeners[event] = [callback];\n    }\n    else {\n        (_a = eventListeners[event]) === null || _a === void 0 ? void 0 : _a.push(callback);\n    }\n};\nexport default { postEvent: postEvent, onMessage: onMessage };\n","export var Events;\n(function (Events) {\n    Events[\"SET_LANGUAGE\"] = \"SET_LANGUAGE\";\n    Events[\"OPEN_APP\"] = \"OPEN_APP\";\n    Events[\"UPDATE_URL\"] = \"UPDATE_URL\";\n})(Events || (Events = {}));\n","import channel from './channel';\nimport { Events } from '../util/types';\nvar isStandaloneWindow = function () {\n    return !window.frameElement;\n};\nvar injectCss = function () {\n    if (!isStandaloneWindow()) {\n        var style = document.createElement('style');\n        style.textContent = \".rmg-window__header{display: none !important;}\";\n        document.head.append(style);\n    }\n};\nvar openApp = function (appId) {\n    channel.postEvent(Events.OPEN_APP, appId);\n};\nvar updateUrl = function (url) {\n    channel.postEvent(Events.UPDATE_URL, url);\n};\nvar onAppOpen = function (callback) {\n    channel.onMessage(Events.OPEN_APP, callback);\n};\nvar onUrlUpdate = function (callback) {\n    channel.onMessage(Events.UPDATE_URL, callback);\n};\nexport default {\n    isStandaloneWindow: isStandaloneWindow,\n    injectCss: injectCss,\n    openApp: openApp,\n    onAppOpen: onAppOpen,\n    updateUrl: updateUrl,\n    onUrlUpdate: onUrlUpdate,\n};\n","export var RMG_RUNTIME_LANGUAGE_KEY = 'rmg-runtime__language';\n","import channel from './channel';\nimport { Events } from '../util/types';\nimport { RMG_RUNTIME_LANGUAGE_KEY } from '../util/constant';\nvar languages = ['en', 'zh-Hans', 'zh-Hant'];\nvar setLanguage = function (value) {\n    if (languages.includes(value)) {\n        channel.postEvent(Events.SET_LANGUAGE, value);\n        window.localStorage.setItem(RMG_RUNTIME_LANGUAGE_KEY, value);\n    }\n};\nvar getLanguage = function () {\n    var languageFromStorage = window.localStorage.getItem(RMG_RUNTIME_LANGUAGE_KEY);\n    return languageFromStorage && languages.includes(languageFromStorage) ? languageFromStorage : 'en';\n};\nvar onLanguageChange = function (callback) {\n    channel.onMessage(Events.SET_LANGUAGE, callback);\n};\nexport default { setLanguage: setLanguage, getLanguage: getLanguage, onLanguageChange: onLanguageChange };\n","import config from './config';\nvar moduleStartTime = new Date().getTime();\nfunction getMsSinceStartUp() {\n    var component = config.getComponent();\n    var componentStartTime = window.localStorage.getItem(component + '__startTime');\n    if (componentStartTime === null) {\n        return new Date().getTime() - moduleStartTime;\n    }\n    else {\n        return new Date().getTime() - Number(componentStartTime);\n    }\n}\nexport default { getMsSinceStartUp: getMsSinceStartUp };\n","import config from './config';\nvar clearStorageForCurrentApp = function () {\n    var prefix = config.getComponent();\n    if (prefix === 'rmg-unknown') {\n        console.log('[rmg-runtime] Unable to clear storage for unknown app');\n        return;\n    }\n    if (prefix === 'railmapgen.github.io') {\n        prefix = 'rmg-home';\n    }\n    var count = 0;\n    while (count < window.localStorage.length) {\n        var key = window.localStorage.key(count);\n        if (key === null || key === void 0 ? void 0 : key.startsWith(prefix + '__')) {\n            window.localStorage.removeItem(key);\n            console.log(\"[rmg-runtime] Removed item \".concat(key));\n        }\n        else {\n            count++;\n        }\n    }\n};\nexport default { clearStorageForCurrentApp: clearStorageForCurrentApp };\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport config from './service/config';\nimport eventLogger from './service/event-logger';\nimport frame from './service/frame';\nimport settings from './service/settings';\nimport benchmark from './service/benchmark';\nimport storage from './service/storage';\nvar rmgRuntime = {\n    // ready\n    ready: function () { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, Promise.all([config.waitForSettled()])];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    }); },\n    // config\n    getAppName: config.getComponent,\n    getAppVersion: config.getVersion,\n    getEnv: config.getEnvironment,\n    getInstance: config.getInstance,\n    // event\n    event: eventLogger.customEvent,\n    // frame\n    isStandaloneWindow: frame.isStandaloneWindow,\n    injectCss: frame.injectCss,\n    openApp: frame.openApp,\n    onAppOpen: frame.onAppOpen,\n    updateUrl: frame.updateUrl,\n    onUrlUpdate: frame.onUrlUpdate,\n    // settings\n    setLanguage: settings.setLanguage,\n    getLanguage: settings.getLanguage,\n    onLanguageChange: settings.onLanguageChange,\n    // storage\n    clearStorageForCurrentApp: storage.clearStorageForCurrentApp,\n    // benchmark\n    getMsSinceStartUp: benchmark.getMsSinceStartUp,\n};\nwindow.rmgRuntime = rmgRuntime;\nexport * from './util/rmg-types';\nexport default rmgRuntime;\n"],"names":["waitFor","__name","ms","resolve","RmgEnv","RmgInstance","__awaiter","this","thisArg","_arguments","P","generator","adopt","value","reject","fulfilled","step","e","rejected","result","__generator","body","_","t","f","y","g","verb","n","v","op","component","version","environment","instance","fetchInfoJson","basePath","url","res","info","_a","waitForSettled","getComponent","getVersion","getEnvironment","getInstance","config","installGtag","script","gtag","args","_i","customEvent","type","data","initLogger","eventLogger","RMG_RUNTIME_CHANNEL_NAME","eventListeners","channel","ev","_b","event","frameId","cb","postEvent","onMessage","callback","channel$1","Events","isStandaloneWindow","injectCss","style","openApp","appId","updateUrl","onAppOpen","onUrlUpdate","frame","RMG_RUNTIME_LANGUAGE_KEY","languages","setLanguage","getLanguage","languageFromStorage","onLanguageChange","settings","moduleStartTime","getMsSinceStartUp","componentStartTime","benchmark","clearStorageForCurrentApp","prefix","count","key","storage","rmgRuntime"],"mappings":"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"}