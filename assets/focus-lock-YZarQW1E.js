import{j as wr}from"./jsx-runtime-DWbWqHZ-.js";import{_ as z}from"./extends-CCbyfPlC.js";import{r as d,R as Sr}from"./index-l2PZgWEW.js";import{_ as Ir}from"./inheritsLoose-B7h9gheN.js";import{g as Ar}from"./focusable-crJ8ziAt.js";function Pr(e,r){if(e==null)return{};var n={},t=Object.keys(e),u,o;for(o=0;o<t.length;o++)u=t[o],!(r.indexOf(u)>=0)&&(n[u]=e[u]);return n}var J="data-focus-lock",ke="data-focus-lock-disabled",Tr="data-no-focus-lock",kr="data-autofocus-inside",Cr="data-no-autofocus";function q(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function Mr(e,r){var n=d.useState(function(){return{value:e,callback:r,facade:{get current(){return n.value},set current(t){var u=n.value;u!==t&&(n.value=t,n.callback(t,u))}}}})[0];return n.callback=r,n.facade}var Nr=typeof window<"u"?d.useLayoutEffect:d.useEffect,xe=new WeakMap;function Lr(e,r){var n=Mr(null,function(t){return e.forEach(function(u){return q(u,t)})});return Nr(function(){var t=xe.get(n);if(t){var u=new Set(t),o=new Set(e),a=n.current;u.forEach(function(i){o.has(i)||q(i,null)}),o.forEach(function(i){u.has(i)||q(i,a)})}xe.set(n,e)},[e]),n}var V={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},X=function(){return X=Object.assign||function(r){for(var n,t=1,u=arguments.length;t<u;t++){n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},X.apply(this,arguments)};function Jn(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,t=Object.getOwnPropertySymbols(e);u<t.length;u++)r.indexOf(t[u])<0&&Object.prototype.propertyIsEnumerable.call(e,t[u])&&(n[t[u]]=e[t[u]]);return n}function Xn(e,r,n){for(var t=0,u=r.length,o;t<u;t++)(o||!(t in r))&&(o||(o=Array.prototype.slice.call(r,0,t)),o[t]=r[t]);return e.concat(o||Array.prototype.slice.call(r))}function Ce(e){return e}function Me(e,r){r===void 0&&(r=Ce);var n=[],t=!1,u={read:function(){if(t)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var a=r(o,t);return n.push(a),function(){n=n.filter(function(i){return i!==a})}},assignSyncMedium:function(o){for(t=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(i){return o(i)},filter:function(){return n}}},assignMedium:function(o){t=!0;var a=[];if(n.length){var i=n;n=[],i.forEach(o),a=n}var b=function(){var v=a;a=[],v.forEach(o)},c=function(){return Promise.resolve().then(b)};c(),n={push:function(v){a.push(v),c()},filter:function(v){return a=a.filter(v),n}}}};return u}function te(e,r){return r===void 0&&(r=Ce),Me(e,r)}function _r(e){e===void 0&&(e={});var r=Me(null);return r.options=X({async:!0,ssr:!1},e),r}var Ne=te({},function(e){var r=e.target,n=e.currentTarget;return{target:r,currentTarget:n}}),Le=te(),Dr=te(),Rr=_r({async:!0,ssr:typeof document<"u"}),Wr=d.createContext(void 0),Ur=[],ue=d.forwardRef(function(r,n){var t,u=d.useState(),o=u[0],a=u[1],i=d.useRef(),b=d.useRef(!1),c=d.useRef(null),v=d.useState({}),s=v[1],f=r.children,m=r.disabled,l=m===void 0?!1:m,p=r.noFocusGuards,g=p===void 0?!1:p,O=r.persistentFocus,h=O===void 0?!1:O,y=r.crossFrame,E=y===void 0?!0:y,S=r.autoFocus,G=S===void 0?!0:S;r.allowTextSelection;var ur=r.group,or=r.className,ar=r.whiteList,ir=r.hasPositiveIndices,pe=r.shards,H=pe===void 0?Ur:pe,he=r.as,cr=he===void 0?"div":he,ye=r.lockProps,fr=ye===void 0?{}:ye,sr=r.sideCar,ge=r.returnFocus,U=ge===void 0?!1:ge,dr=r.focusOptions,j=r.onActivation,$=r.onDeactivation,lr=d.useState({}),vr=lr[0],mr=d.useCallback(function(w){var T=w.captureFocusRestore;if(!c.current){var k,I=(k=document)==null?void 0:k.activeElement;c.current=I,I!==document.body&&(c.current=T(I))}i.current&&j&&j(i.current),b.current=!0,s()},[j]),br=d.useCallback(function(){b.current=!1,$&&$(i.current),s()},[$]),pr=d.useCallback(function(w){var T=c.current;if(T){var k=(typeof T=="function"?T():T)||document.body,I=typeof U=="function"?U(k):U;if(I){var Oe=typeof I=="object"?I:void 0;c.current=null,w?Promise.resolve().then(function(){return k.focus(Oe)}):k.focus(Oe)}}},[U]),hr=d.useCallback(function(w){b.current&&Ne.useMedium(w)},[]),yr=Le.useMedium,gr=d.useCallback(function(w){i.current!==w&&(i.current=w,a(w))},[]),Fr=z((t={},t[ke]=l&&"disabled",t[J]=ur,t),fr),Fe=g!==!0,Or=Fe&&g!=="tail",xr=Lr([n,gr]),Er=d.useMemo(function(){return{observed:i,shards:H,enabled:!l,active:b.current}},[l,b.current,H,o]);return d.createElement(d.Fragment,null,Fe&&[d.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:l?-1:0,style:V}),ir?d.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:l?-1:1,style:V}):null],!l&&d.createElement(sr,{id:vr,sideCar:Rr,observed:o,disabled:l,persistentFocus:h,crossFrame:E,autoFocus:G,whiteList:ar,shards:H,onActivation:mr,onDeactivation:br,returnFocus:pr,focusOptions:dr,noFocusGuards:g}),d.createElement(cr,z({ref:xr},Fr,{className:or,onBlur:yr,onFocus:hr}),d.createElement(Wr.Provider,{value:Er},f)),Or&&d.createElement("div",{"data-focus-guard":!0,tabIndex:l?-1:0,style:V}))});ue.propTypes={};function _(e){"@babel/helpers - typeof";return _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_(e)}function Br(e,r){if(_(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r||"default");if(_(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Gr(e){var r=Br(e,"string");return _(r)=="symbol"?r:String(r)}function Hr(e,r,n){return r=Gr(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function jr(e,r){function n(t){return t.displayName||t.name||"Component"}return function(u){var o=[],a;function i(){a=e(o.map(function(c){return c.props})),r(a)}var b=function(c){Ir(v,c);function v(){return c.apply(this,arguments)||this}v.peek=function(){return a};var s=v.prototype;return s.componentDidMount=function(){o.push(this),i()},s.componentDidUpdate=function(){i()},s.componentWillUnmount=function(){var m=o.indexOf(this);o.splice(m,1),i()},s.render=function(){return Sr.createElement(u,this.props)},v}(d.PureComponent);return Hr(b,"displayName","SideEffect("+n(u)+")"),b}}var x=function(e){for(var r=Array(e.length),n=0;n<e.length;++n)r[n]=e[n];return r},P=function(e){return Array.isArray(e)?e:[e]},_e=function(e){return Array.isArray(e)?e[0]:e},$r=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var r=window.getComputedStyle(e,null);return!r||!r.getPropertyValue?!1:r.getPropertyValue("display")==="none"||r.getPropertyValue("visibility")==="hidden"},De=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},Re=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},qr=function(e){return e.hasAttribute("inert")},Vr=function(e,r){return!e||Re(e)||!$r(e)&&!qr(e)&&r(De(e))},We=function(e,r){var n=e.get(r);if(n!==void 0)return n;var t=Vr(r,We.bind(void 0,e));return e.set(r,t),t},Kr=function(e,r){return e&&!Re(e)?zr(e)?r(De(e)):!1:!0},Ue=function(e,r){var n=e.get(r);if(n!==void 0)return n;var t=Kr(r,Ue.bind(void 0,e));return e.set(r,t),t},Be=function(e){return e.dataset},Qr=function(e){return e.tagName==="BUTTON"},Ge=function(e){return e.tagName==="INPUT"},He=function(e){return Ge(e)&&e.type==="radio"},Yr=function(e){return!((Ge(e)||Qr(e))&&(e.type==="hidden"||e.disabled))},zr=function(e){var r=e.getAttribute(Cr);return![!0,"true",""].includes(r)},oe=function(e){var r;return!!(e&&(!((r=Be(e))===null||r===void 0)&&r.focusGuard))},Z=function(e){return!oe(e)},Jr=function(e){return!!e},Xr=function(e,r){var n=Math.max(0,e.tabIndex),t=Math.max(0,r.tabIndex),u=n-t,o=e.index-r.index;if(u){if(!n)return 1;if(!t)return-1}return u||o},Zr=function(e){return e.tabIndex<0&&!e.hasAttribute("tabindex")?0:e.tabIndex},ae=function(e,r,n){return x(e).map(function(t,u){var o=Zr(t);return{node:t,index:u,tabIndex:n&&o===-1?(t.dataset||{}).focusGuard?0:-1:o}}).filter(function(t){return!r||t.tabIndex>=0}).sort(Xr)},en=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],ie=en.join(","),rn="".concat(ie,", [data-focus-guard]"),je=function(e,r){return x((e.shadowRoot||e).children).reduce(function(n,t){return n.concat(t.matches(r?rn:ie)?[t]:[],je(t))},[])},nn=function(e,r){var n;return e instanceof HTMLIFrameElement&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?N([e.contentDocument.body],r):[e]},N=function(e,r){return e.reduce(function(n,t){var u,o=je(t,r),a=(u=[]).concat.apply(u,o.map(function(i){return nn(i,r)}));return n.concat(a,t.parentNode?x(t.parentNode.querySelectorAll(ie)).filter(function(i){return i===t}):[])},[])},tn=function(e){var r=e.querySelectorAll("[".concat(kr,"]"));return x(r).map(function(n){return N([n])}).reduce(function(n,t){return n.concat(t)},[])},ce=function(e,r){return x(e).filter(function(n){return We(r,n)}).filter(function(n){return Yr(n)})},Ee=function(e,r){return r===void 0&&(r=new Map),x(e).filter(function(n){return Ue(r,n)})},fe=function(e,r,n){return ae(ce(N(e,n),r),!0,n)},D=function(e,r){return ae(ce(N(e),r),!1)},un=function(e,r){return ce(tn(e),r)},A=function(e,r){return e.shadowRoot?A(e.shadowRoot,r):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,r)?!0:x(e.children).some(function(n){var t;if(n instanceof HTMLIFrameElement){var u=(t=n.contentDocument)===null||t===void 0?void 0:t.body;return u?A(u,r):!1}return A(n,r)})},on=function(e){for(var r=new Set,n=e.length,t=0;t<n;t+=1)for(var u=t+1;u<n;u+=1){var o=e[t].compareDocumentPosition(e[u]);(o&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&r.add(u),(o&Node.DOCUMENT_POSITION_CONTAINS)>0&&r.add(t)}return e.filter(function(a,i){return!r.has(i)})},$e=function(e){return e.parentNode?$e(e.parentNode):e},se=function(e){var r=P(e);return r.filter(Boolean).reduce(function(n,t){var u=t.getAttribute(J);return n.push.apply(n,u?on(x($e(t).querySelectorAll("[".concat(J,'="').concat(u,'"]:not([').concat(ke,'="disabled"])')))):[t]),n},[])},an=function(e){try{return e()}catch{return}},R=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var r=e.activeElement;return r.shadowRoot?R(r.shadowRoot):r instanceof HTMLIFrameElement&&an(function(){return r.contentWindow.document})?R(r.contentWindow.document):r}},cn=function(e,r){return e===r},fn=function(e,r){return!!x(e.querySelectorAll("iframe")).some(function(n){return cn(n,r)})},qe=function(e,r){return r===void 0&&(r=R(_e(e).ownerDocument)),!r||r.dataset&&r.dataset.focusGuard?!1:se(e).some(function(n){return A(n,r)||fn(n,r)})},sn=function(e){e===void 0&&(e=document);var r=R(e);return r?x(e.querySelectorAll("[".concat(Tr,"]"))).some(function(n){return A(n,r)}):!1},dn=function(e,r){return r.filter(He).filter(function(n){return n.name===e.name}).filter(function(n){return n.checked})[0]||e},de=function(e,r){return He(e)&&e.name?dn(e,r):e},ln=function(e){var r=new Set;return e.forEach(function(n){return r.add(de(n,e))}),e.filter(function(n){return r.has(n)})},we=function(e){return e[0]&&e.length>1?de(e[0],e):e[0]},Se=function(e,r){return e.indexOf(de(r,e))},ee="NEW_FOCUS",vn=function(e,r,n,t,u){var o=e.length,a=e[0],i=e[o-1],b=oe(t);if(!(t&&e.indexOf(t)>=0)){var c=t!==void 0?n.indexOf(t):-1,v=u?n.indexOf(u):c,s=u?e.indexOf(u):-1;if(c===-1)return s!==-1?s:ee;if(s===-1)return ee;var f=c-v,m=n.indexOf(a),l=n.indexOf(i),p=ln(n),g=t!==void 0?p.indexOf(t):-1,O=g-(u?p.indexOf(u):c);if(!f&&s>=0||r.length===0)return s;var h=Se(e,r[0]),y=Se(e,r[r.length-1]);if(c<=m&&b&&Math.abs(f)>1)return y;if(c>=l&&b&&Math.abs(f)>1)return h;if(f&&Math.abs(O)>1)return s;if(c<=m)return y;if(c>l)return h;if(f)return Math.abs(f)>1?s:(o+s+f)%o}},mn=function(e){return function(r){var n,t=(n=Be(r))===null||n===void 0?void 0:n.autofocus;return r.autofocus||t!==void 0&&t!=="false"||e.indexOf(r)>=0}},Ie=function(e,r,n){var t=e.map(function(o){var a=o.node;return a}),u=Ee(t.filter(mn(n)));return u&&u.length?we(u):we(Ee(r))},re=function(e,r){return r===void 0&&(r=[]),r.push(e),e.parentNode&&re(e.parentNode.host||e.parentNode,r),r},K=function(e,r){for(var n=re(e),t=re(r),u=0;u<n.length;u+=1){var o=n[u];if(t.indexOf(o)>=0)return o}return!1},Ve=function(e,r,n){var t=P(e),u=P(r),o=t[0],a=!1;return u.filter(Boolean).forEach(function(i){a=K(a||i,i)||a,n.filter(Boolean).forEach(function(b){var c=K(o,b);c&&(!a||A(c,a)?a=c:a=K(c,a))})}),a},Ae=function(e,r){return e.reduce(function(n,t){return n.concat(un(t,r))},[])},bn=function(e,r){var n=new Map;return r.forEach(function(t){return n.set(t.node,t)}),e.map(function(t){return n.get(t)}).filter(Jr)},pn=function(e,r){var n=R(P(e).length>0?document:_e(e).ownerDocument),t=se(e).filter(Z),u=Ve(n||e,e,t),o=new Map,a=D(t,o),i=a.filter(function(l){var p=l.node;return Z(p)});if(i[0]){var b=D([u],o).map(function(l){var p=l.node;return p}),c=bn(b,i),v=c.map(function(l){var p=l.node;return p}),s=c.filter(function(l){var p=l.tabIndex;return p>=0}).map(function(l){var p=l.node;return p}),f=vn(v,s,b,n,r);if(f===ee){var m=Ie(a,s,Ae(t,o))||Ie(a,v,Ae(t,o));if(m)return{node:m};console.warn("focus-lock: cannot find any node to move focus into");return}return f===void 0?f:c[f]}},hn=function(e){var r=se(e).filter(Z),n=Ve(e,e,r),t=ae(N([n],!0),!0,!0),u=N(r,!1);return t.map(function(o){var a=o.node,i=o.index;return{node:a,index:i,lockItem:u.indexOf(a)>=0,guard:oe(a)}})},le=function(e,r){e&&("focus"in e&&e.focus(r),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus())},Q=0,Y=!1,Ke=function(e,r,n){n===void 0&&(n={});var t=pn(e,r);if(!Y&&t){if(Q>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),Y=!0,setTimeout(function(){Y=!1},1);return}Q++,le(t.node,n.focusOptions),Q--}};function L(e){if(!e)return null;if(typeof WeakRef>"u")return function(){return e||null};var r=e?new WeakRef(e):null;return function(){return(r==null?void 0:r.deref())||null}}var yn=function(e){if(!e)return null;for(var r=[],n=e;n&&n!==document.body;)r.push({current:L(n),parent:L(n.parentElement),left:L(n.previousElementSibling),right:L(n.nextElementSibling)}),n=n.parentElement;return{element:L(e),stack:r,ownerDocument:e.ownerDocument}},gn=function(e){var r,n,t,u,o;if(e)for(var a=e.stack,i=e.ownerDocument,b=new Map,c=0,v=a;c<v.length;c++){var s=v[c],f=(r=s.parent)===null||r===void 0?void 0:r.call(s);if(f&&i.contains(f)){for(var m=(n=s.left)===null||n===void 0?void 0:n.call(s),l=s.current(),p=f.contains(l)?l:void 0,g=(t=s.right)===null||t===void 0?void 0:t.call(s),O=fe([f],b),h=(o=(u=p??(m==null?void 0:m.nextElementSibling))!==null&&u!==void 0?u:g)!==null&&o!==void 0?o:m;h;){for(var y=0,E=O;y<E.length;y++){var S=E[y];if(h!=null&&h.contains(S.node))return S.node}h=h.nextElementSibling}if(O.length)return O[0].node}}},Qe=function(e){var r=yn(e);return function(){return gn(r)}},Fn=function(e,r,n){if(!e||!r)return console.error("no element or scope given"),{};var t=P(r);if(t.every(function(a){return!A(a,e)}))return console.error("Active element is not contained in the scope"),{};var u=n?fe(t,new Map):D(t,new Map),o=u.findIndex(function(a){var i=a.node;return i===e});if(o!==-1)return{prev:u[o-1],next:u[o+1],first:u[0],last:u[u.length-1]}},On=function(e,r){var n=r?fe(P(e),new Map):D(P(e),new Map);return{first:n[0],last:n[n.length-1]}},xn=function(e){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},e)},Ye=function(e,r,n){r===void 0&&(r={});var t=xn(r),u=Fn(e,t.scope,t.onlyTabbable);if(u){var o=n(u,t.cycle);o&&le(o.node,t.focusOptions)}},En=function(e,r){r===void 0&&(r={}),Ye(e,r,function(n,t){var u=n.next,o=n.first;return u||t&&o})},wn=function(e,r){r===void 0&&(r={}),Ye(e,r,function(n,t){var u=n.prev,o=n.last;return u||t&&o})},ze=function(e,r,n){var t,u=On(e,(t=r.onlyTabbable)!==null&&t!==void 0?t:!0),o=u[n];o&&le(o.node,r.focusOptions)},Sn=function(e,r){r===void 0&&(r={}),ze(e,r,"first")},In=function(e,r){r===void 0&&(r={}),ze(e,r,"last")};function ve(e){setTimeout(e,1)}var An=function(r){return r&&"current"in r?r.current:r},Je=function(){return document&&document.activeElement===document.body},Pn=function(){return Je()||sn()},C=null,F=null,Pe=function(){return null},M=null,W=!1,me=!1,Tn=function(){return!0},kn=function(r){return(C.whiteList||Tn)(r)},Cn=function(r,n){M={observerNode:r,portaledElement:n}},Mn=function(r){return M&&M.portaledElement===r};function Te(e,r,n,t){var u=null,o=e;do{var a=t[o];if(a.guard)a.node.dataset.focusAutoGuard&&(u=a);else if(a.lockItem){if(o!==e)return;u=null}else break}while((o+=n)!==r);u&&(u.node.tabIndex=0)}var Nn=function(r){return r?!!W:W==="meanwhile"},Ln=function e(r,n,t){return n&&(n.host===r&&(!n.activeElement||t.contains(n.activeElement))||n.parentNode&&e(r,n.parentNode,t))},_n=function(r,n){return n.some(function(t){return Ln(r,t,t)})},Xe=function(r){return D(r,new Map)},Dn=function(r){return!Xe([r.parentNode]).some(function(n){return n.node===r})},B=function(){var r=!1;if(C){var n=C,t=n.observed,u=n.persistentFocus,o=n.autoFocus,a=n.shards,i=n.crossFrame,b=n.focusOptions,c=n.noFocusGuards,v=t||M&&M.portaledElement;if(Je()&&F&&(!document.body.contains(F)||Dn(F))){F=null;var s=Pe();s&&s.focus()}var f=document&&document.activeElement;if(v){var m=[v].concat(a.map(An).filter(Boolean)),l=function(){if(!Nn(i)||!c||!F||me)return!1;var y=Xe(m),E=y.findIndex(function(S){var G=S.node;return G===F});return E===0||E===y.length-1};if((!f||kn(f))&&(u||l()||!Pn()||!F&&o)&&(v&&!(qe(m)||f&&_n(f,m)||Mn(f))&&(document&&!F&&f&&!o?(f.blur&&f.blur(),document.body.focus()):(r=Ke(m,F,{focusOptions:b}),M={})),W=!1,F=document&&document.activeElement,Pe=Qe(F)),document&&f!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var p=document&&document.activeElement,g=hn(m),O=g.map(function(h){var y=h.node;return y}).indexOf(p);O>-1&&(g.filter(function(h){var y=h.guard,E=h.node;return y&&E.dataset.focusAutoGuard}).forEach(function(h){var y=h.node;return y.removeAttribute("tabIndex")}),Te(O,g.length,1,g),Te(O,-1,-1,g))}}}return r},Ze=function(r){B()&&r&&(r.stopPropagation(),r.preventDefault())},be=function(){return ve(B)},Rn=function(r){var n=r.target,t=r.currentTarget;t.contains(n)||Cn(t,n)},Wn=function(){return null},er=function(){me=!0},rr=function(){me=!1,W="just",ve(function(){W="meanwhile"})},Un=function(){document.addEventListener("focusin",Ze),document.addEventListener("focusout",be),window.addEventListener("focus",er),window.addEventListener("blur",rr)},Bn=function(){document.removeEventListener("focusin",Ze),document.removeEventListener("focusout",be),window.removeEventListener("focus",er),window.removeEventListener("blur",rr)};function Gn(e){return e.filter(function(r){var n=r.disabled;return!n})}var nr={moveFocusInside:Ke,focusInside:qe,focusNextElement:En,focusPrevElement:wn,focusFirstElement:Sn,focusLastElement:In,captureFocusRestore:Qe};function Hn(e){var r=e.slice(-1)[0];r&&!C&&Un();var n=C,t=n&&r&&r.id===n.id;C=r,n&&!t&&(n.onDeactivation(),e.filter(function(u){var o=u.id;return o===n.id}).length||n.returnFocus(!r)),r?(F=null,(!t||n.observed!==r.observed)&&r.onActivation(nr),B(),ve(B)):(Bn(),F=null)}Ne.assignSyncMedium(Rn);Le.assignMedium(be);Dr.assignMedium(function(e){return e(nr)});const jn=jr(Gn,Hn)(Wn);var ne=d.forwardRef(function(r,n){return d.createElement(ue,z({sideCar:jn,ref:n},r))}),tr=ue.propTypes||{};tr.sideCar;Pr(tr,["sideCar"]);ne.propTypes={};const $n=ne.default??ne,qn=e=>{const{initialFocusRef:r,finalFocusRef:n,contentRef:t,restoreFocus:u,children:o,isDisabled:a,autoFocus:i,persistentFocus:b,lockFocusAcrossFrames:c}=e,v=d.useCallback(()=>{r!=null&&r.current?r.current.focus():t!=null&&t.current&&Ar(t.current).length===0&&requestAnimationFrame(()=>{var l;(l=t.current)==null||l.focus()})},[r,t]),s=d.useCallback(()=>{var m;(m=n==null?void 0:n.current)==null||m.focus()},[n]),f=u&&!n;return wr.jsx($n,{crossFrame:c,persistentFocus:b,autoFocus:i,disabled:a,onActivation:v,onDeactivation:s,returnFocus:f,children:o})};qn.displayName="FocusLock";export{qn as F,Jn as _,X as a,Xn as b,_r as c,Lr as u};
