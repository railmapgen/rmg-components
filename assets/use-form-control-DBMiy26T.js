import{j as y}from"./jsx-runtime-D_3pcrNB.js";import{r as d}from"./index-YTOF1_EJ.js";import{f as g,b as $,c as k}from"./use-style-config-Be-hB2Uk.js";import{c as H}from"./context-CXQEnuw_.js";import{o as w,c as q}from"./theming-props-CtumPZyV.js";import{m as I}from"./use-merge-refs-CDN4nSPx.js";import{d as c,a as v}from"./attr-sHTFgF0E.js";import{c as T}from"./call-all-DDzecCnU.js";const[A,E]=H({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[M,S]=H({strict:!1,name:"FormControlContext"});function L(n){const{id:e,isRequired:i,isInvalid:s,isDisabled:o,isReadOnly:t,...u}=n,b=d.useId(),a=e||`field-${b}`,F=`${a}-label`,x=`${a}-feedback`,h=`${a}-helptext`,[C,m]=d.useState(!1),[O,R]=d.useState(!1),[p,P]=d.useState(!1),j=d.useCallback((r={},l=null)=>({id:h,...r,ref:I(l,f=>{f&&R(!0)})}),[h]),_=d.useCallback((r={},l=null)=>({...r,ref:l,"data-focus":c(p),"data-disabled":c(o),"data-invalid":c(s),"data-readonly":c(t),id:r.id!==void 0?r.id:F,htmlFor:r.htmlFor!==void 0?r.htmlFor:a}),[a,o,p,s,t,F]),D=d.useCallback((r={},l=null)=>({id:x,...r,ref:I(l,f=>{f&&m(!0)}),"aria-live":"polite"}),[x]),N=d.useCallback((r={},l=null)=>({...r,...u,ref:l,role:"group","data-focus":c(p),"data-disabled":c(o),"data-invalid":c(s),"data-readonly":c(t)}),[u,o,p,s,t]),B=d.useCallback((r={},l=null)=>({...r,ref:l,role:"presentation","aria-hidden":!0,children:r.children||"*"}),[]);return{isRequired:!!i,isInvalid:!!s,isReadOnly:!!t,isDisabled:!!o,isFocused:!!p,onFocus:()=>P(!0),onBlur:()=>P(!1),hasFeedbackText:C,setHasFeedbackText:m,hasHelpText:O,setHasHelpText:R,id:a,labelId:F,feedbackId:x,helpTextId:h,htmlProps:u,getHelpTextProps:j,getErrorMessageProps:D,getRootProps:N,getLabelProps:_,getRequiredIndicatorProps:B}}const z=g(function(e,i){const s=$("Form",e),o=w(e),{getRootProps:t,htmlProps:u,...b}=L(o),a=q("chakra-form-control",e.className);return y.jsx(M,{value:b,children:y.jsx(A,{value:s,children:y.jsx(k.div,{...t({},i),className:a,__css:s.container})})})});z.displayName="FormControl";const G=g(function(e,i){const s=S(),o=E(),t=q("chakra-form__helper-text",e.className);return y.jsx(k.div,{...s==null?void 0:s.getHelpTextProps(e,i),__css:o.helperText,className:t})});G.displayName="FormHelperText";function ee(n){const{isDisabled:e,isInvalid:i,isReadOnly:s,isRequired:o,...t}=J(n);return{...t,disabled:e,readOnly:s,required:o,"aria-invalid":v(i),"aria-required":v(o),"aria-readonly":v(s)}}function J(n){const e=S(),{id:i,disabled:s,readOnly:o,required:t,isRequired:u,isInvalid:b,isReadOnly:a,isDisabled:F,onFocus:x,onBlur:h,...C}=n,m=n["aria-describedby"]?[n["aria-describedby"]]:[];return e!=null&&e.hasFeedbackText&&(e!=null&&e.isInvalid)&&m.push(e.feedbackId),e!=null&&e.hasHelpText&&m.push(e.helpTextId),{...C,"aria-describedby":m.join(" ")||void 0,id:i??(e==null?void 0:e.id),isDisabled:s??F??(e==null?void 0:e.isDisabled),isReadOnly:o??a??(e==null?void 0:e.isReadOnly),isRequired:t??u??(e==null?void 0:e.isRequired),isInvalid:b??(e==null?void 0:e.isInvalid),onFocus:T(e==null?void 0:e.onFocus,x),onBlur:T(e==null?void 0:e.onBlur,h)}}export{z as F,S as a,E as b,G as c,J as d,ee as u};
