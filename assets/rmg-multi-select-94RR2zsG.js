import{j as e}from"./jsx-runtime-vNq4Oc-g.js";import{r as l}from"./index-4g5l5LRQ.js";import{c as D}from"./index-818H0KCj.js";import{c as m,f as M,d as L,o as O,k as q,b as E,a as $}from"./chunk-ZJJGQIVY-G-YO8yX9.js";import{u as z}from"./chunk-7D6N5TE5-jonzsY0A.js";import{k as j}from"./emotion-react.browser.esm-7hhy0pJv.js";import{u as G}from"./chunk-R5W6LHQW-w_hUyVb1.js";import{B as W}from"./chunk-PULVB27S-fsjjELE9.js";import{P as X,a as F,b as T}from"./chunk-24I2HV4N-2pl4hl1n.js";import{P as H,L as J,a as K}from"./chunk-DY5QRMBO-HUTS3H-i.js";import{B as Q}from"./chunk-Z6RXEUPO-gr2qFrxx.js";var[ge,U]=D({name:"CheckboxGroupContext",strict:!1});function Y(o){const[r,i]=l.useState(o),[t,n]=l.useState(!1);return o!==r&&(n(!0),i(o)),t}function Z(o){return e.jsx(m.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...o,children:e.jsx("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function ee(o){return e.jsx(m.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...o,children:e.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function te(o){const{isIndeterminate:r,isChecked:i,...t}=o,n=r?ee:Z;return i||r?e.jsx(m.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:e.jsx(n,{...t})}):null}var se={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},oe={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},ne=j({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),re=j({from:{opacity:0},to:{opacity:1}}),ae=j({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),P=M(function(r,i){const t=U(),n={...t,...r},c=L("Checkbox",n),a=O(r),{spacing:p="0.5rem",className:h,children:f,iconColor:x,iconSize:v,icon:k=e.jsx(te,{}),isChecked:b,isDisabled:C=t==null?void 0:t.isDisabled,onChange:s,inputProps:u,...d}=a;let y=b;t!=null&&t.value&&a.value&&(y=t.value.includes(a.value));let _=s;t!=null&&t.onChange&&a.value&&(_=q(t.onChange,s));const{state:g,getInputProps:w,getCheckboxProps:V,getLabelProps:R,getRootProps:A}=z({...d,isDisabled:C,isChecked:y,onChange:_}),S=Y(g.isChecked),N=l.useMemo(()=>({animation:S?g.isIndeterminate?`${re} 20ms linear, ${ae} 200ms linear`:`${ne} 200ms linear`:void 0,fontSize:v,color:x,...c.icon}),[x,v,S,g.isIndeterminate,c.icon]),B=l.cloneElement(k,{__css:N,isIndeterminate:g.isIndeterminate,isChecked:g.isChecked});return e.jsxs(m.label,{__css:{...oe,...c.container},className:E("chakra-checkbox",h),...A(),children:[e.jsx("input",{className:"chakra-checkbox__input",...w(u,i)}),e.jsx(m.span,{__css:{...se,...c.control},className:"chakra-checkbox__control",...V(),children:B}),f&&e.jsx(m.span,{className:"chakra-checkbox__label",...R(),__css:{marginStart:p,...c.label},children:f})]})});P.displayName="Checkbox";const I=o=>{var C;const{displayValue:r,selections:i,defaultValue:t,onChange:n}=o,c=$("RmgMultiSelect"),[a,p]=l.useState(t),[h,f]=l.useState(!1),x=l.useRef(null),v=l.useRef(null);G({ref:x,handler:()=>f(!1)}),l.useEffect(()=>{t.toString()&&p(t)},[t.toString()]);const k=a.filter(s=>i.some(u=>u.value===s)).length,b=(s,u)=>{if(u){if(!a.includes(s.value)){const d=[...a,s.value];p(d),n==null||n(d)}}else{const d=a.filter(y=>y!==s.value);p(d),n==null||n(d)}};return e.jsx(W,{ref:x,sx:c,children:e.jsxs(X,{placement:"bottom-start",isOpen:h,autoFocus:!1,children:[e.jsx(H,{children:e.jsxs("div",{className:"rmg-multi-select__wrapper",role:"combobox","aria-expanded":h,"aria-controls":(C=v.current)==null?void 0:C.id,"aria-label":r,onClick:()=>f(s=>!s),children:[e.jsxs("div",{className:`rmg-multi-select__field ${h?"active":""}`,children:[e.jsx("span",{children:r}),e.jsxs(Q,{colorScheme:k?"blue":void 0,role:"status",children:[k,"/",i.length]})]}),e.jsx("div",{className:"rmg-multi-select__icon-wrapper",children:e.jsx("svg",{viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})})})]})}),e.jsx(F,{ref:v,children:e.jsx(T,{children:e.jsx(J,{children:i.map(s=>e.jsx(K,{children:e.jsx(P,{isChecked:a.includes(s.value),isDisabled:s.disabled,onChange:({target:{checked:u}})=>b(s,u),children:s.label})},s.value.toString()))})})})]})})};try{I.displayName="RmgMultiSelect",I.__docgenInfo={description:"",displayName:"RmgMultiSelect",props:{displayValue:{defaultValue:null,description:"",name:"displayValue",required:!0,type:{name:"string"}},selections:{defaultValue:null,description:"",name:"selections",required:!0,type:{name:"Selection[]"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!0,type:{name:"string[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: string[]) => void)"}}}}}catch{}export{I as R};
