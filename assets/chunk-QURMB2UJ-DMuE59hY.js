import{j as h}from"./jsx-runtime-DWbWqHZ-.js";import{r as n}from"./index-l2PZgWEW.js";import{M as L,u as w,P as S,a as $,L as b}from"./proxy-COICayAC.js";import{u as _,b as k}from"./chunk-3KCBMPN5-1il6kcp7.js";import{f as P,c as z,d as N}from"./chunk-ZJJGQIVY-PjEMQnTN.js";class T extends n.Component{getSnapshotBeforeUpdate(r){const e=this.props.childRef.current;if(e&&r.isPresent&&!this.props.isPresent){const t=this.props.sizeRef.current;t.height=e.offsetHeight||0,t.width=e.offsetWidth||0,t.top=e.offsetTop,t.left=e.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function B({children:o,isPresent:r}){const e=n.useId(),t=n.useRef(null),c=n.useRef({width:0,height:0,top:0,left:0}),{nonce:f}=n.useContext(L);return n.useInsertionEffect(()=>{const{width:m,height:s,top:d,left:p}=c.current;if(r||!t.current||!m||!s)return;t.current.dataset.motionPopId=e;const l=document.createElement("style");return f&&(l.nonce=f),document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`
          [data-motion-pop-id="${e}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${s}px !important;
            top: ${d}px !important;
            left: ${p}px !important;
          }
        `),()=>{document.head.removeChild(l)}},[r]),h.jsx(T,{isPresent:r,childRef:t,sizeRef:c,children:n.cloneElement(o,{ref:t})})}const K=({children:o,initial:r,isPresent:e,onExitComplete:t,custom:c,presenceAffectsLayout:f,mode:m})=>{const s=w(U),d=n.useId(),p=n.useCallback(a=>{s.set(a,!0);for(const y of s.values())if(!y)return;t&&t()},[s,t]),l=n.useMemo(()=>({id:d,initial:r,isPresent:e,custom:c,onExitComplete:p,register:a=>(s.set(a,!1),()=>s.delete(a))}),f?[Math.random(),p]:[e,p]);return n.useMemo(()=>{s.forEach((a,y)=>s.set(y,!1))},[e]),n.useEffect(()=>{!e&&!s.size&&t&&t()},[e]),m==="popLayout"&&(o=h.jsx(B,{isPresent:e,children:o})),h.jsx(S.Provider,{value:l,children:o})};function U(){return new Map}const g=o=>o.key||"";function M(o){const r=[];return n.Children.forEach(o,e=>{n.isValidElement(e)&&r.push(e)}),r}const J=({children:o,exitBeforeEnter:r,custom:e,initial:t=!0,onExitComplete:c,presenceAffectsLayout:f=!0,mode:m="sync"})=>{const s=n.useMemo(()=>M(o),[o]),d=s.map(g),p=n.useRef(!0),l=n.useRef(s),a=w(()=>new Map),[y,D]=n.useState(s),[x,j]=n.useState(s);$(()=>{p.current=!1,l.current=s;for(let u=0;u<x.length;u++){const i=g(x[u]);d.includes(i)?a.delete(i):a.get(i)!==!0&&a.set(i,!1)}},[x,d.length,d.join("-")]);const v=[];if(s!==y){let u=[...s];for(let i=0;i<x.length;i++){const C=x[i],R=g(C);d.includes(R)||(u.splice(i,0,C),v.push(C))}m==="wait"&&v.length&&(u=v),j(M(u)),D(s);return}const{forceRender:E}=n.useContext(b);return h.jsx(h.Fragment,{children:x.map(u=>{const i=g(u),C=s===x||d.includes(i),R=()=>{if(a.has(i))a.set(i,!0);else return;let A=!0;a.forEach(I=>{I||(A=!1)}),A&&(E==null||E(),j(l.current),c&&c())};return h.jsx(K,{isPresent:C,initial:!p.current||t?void 0:!1,custom:C?void 0:e,presenceAffectsLayout:f,mode:m,onExitComplete:C?void 0:R,children:u},i)})})};var F=P(function(r,e){const t=_(),{status:c}=k(),f={display:"inline",...t.description};return h.jsx(z.div,{ref:e,"data-status":c,...r,className:N("chakra-alert__desc",r.className),__css:f})});F.displayName="AlertDescription";var G=P(function(r,e){const t=_(),{status:c}=k();return h.jsx(z.div,{ref:e,"data-status":c,...r,className:N("chakra-alert__title",r.className),__css:t.title})});G.displayName="AlertTitle";export{J as A,G as a,F as b};
