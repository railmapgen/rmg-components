import{j as e}from"./jsx-runtime-DWbWqHZ-.js";import{r as c}from"./index-l2PZgWEW.js";import{c as m,f as g,b as N,d as $,a as z}from"./use-style-config--FCIfLZ1.js";import{B as G}from"./box-BzyDp4Vq.js";import{P as U,b as W}from"./popover-content-CzLH0bCI.js";import{P as X}from"./popover-anchor-gfsSCyUL.js";import{B as F}from"./badge-DfPChy9-.js";import{P as H}from"./popover-body-Dlj5EWYS.js";import{I as J}from"./icon-B9qoL11O.js";import{c as w}from"./context-cwyNcBuw.js";import{o as V,c as K}from"./theming-props-0pEswy1w.js";import{g as Q}from"./children-DWIC1-M1.js";import{k as b}from"./emotion-react.browser.esm-RUFYoBmu.js";import{u as Y}from"./use-checkbox-CE8a58PH.js";import{a as Z}from"./call-all-DDzecCnU.js";import{u as ee}from"./use-outside-click-DfGn5dTp.js";const[Ve,te]=w({name:"CheckboxGroupContext",strict:!1});function se(n){return e.jsx(m.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...n,children:e.jsx("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function ne(n){return e.jsx(m.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...n,children:e.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function oe(n){const{isIndeterminate:s,isChecked:o,...t}=n,i=s?ne:se;return o||s?e.jsx(m.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:e.jsx(i,{...t})}):null}function ie(n){const[s,o]=c.useState(n),[t,i]=c.useState(!1);return n!==s&&(i(!0),o(n)),t}const re={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},ae={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},le=b({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),ce=b({from:{opacity:0},to:{opacity:1}}),de=b({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),R=g(function(s,o){const t=te(),i={...t,...s},l=N("Checkbox",i),a=V(s),{spacing:d="0.5rem",className:u,children:p,iconColor:y,iconSize:f,icon:k=e.jsx(oe,{}),isChecked:_,isDisabled:v=t==null?void 0:t.isDisabled,onChange:r,inputProps:h,...x}=a;let j=_;t!=null&&t.value&&a.value&&(j=t.value.includes(a.value));let I=r;t!=null&&t.onChange&&a.value&&(I=Z(t.onChange,r));const{state:C,getInputProps:D,getCheckboxProps:M,getLabelProps:O,getRootProps:T}=Y({...x,isDisabled:v,isChecked:j,onChange:I}),L=ie(C.isChecked),q=c.useMemo(()=>({animation:L?C.isIndeterminate?`${ce} 20ms linear, ${de} 200ms linear`:`${le} 200ms linear`:void 0,...l.icon,...$({fontSize:f,color:y})}),[y,f,L,C.isIndeterminate,l.icon]),E=c.cloneElement(k,{__css:q,isIndeterminate:C.isIndeterminate,isChecked:C.isChecked});return e.jsxs(m.label,{__css:{...ae,...l.container},className:K("chakra-checkbox",u),...T(),children:[e.jsx("input",{className:"chakra-checkbox__input",...D(h,o)}),e.jsx(m.span,{__css:{...re,...l.control},className:"chakra-checkbox__control",...M(),children:E}),p&&e.jsx(m.span,{className:"chakra-checkbox__label",...O(),__css:{marginStart:d,...l.label},children:p})]})});R.displayName="Checkbox";const[me,A]=w({name:"ListStylesContext",errorMessage:`useListStyles returned is 'undefined'. Seems you forgot to wrap the components in "<List />" `}),S=g(function(s,o){const t=N("List",s),{children:i,styleType:l="none",stylePosition:a,spacing:d,...u}=V(s),p=Q(i),f=d?{["& > *:not(style) ~ *:not(style)"]:{mt:d}}:{};return e.jsx(me,{value:t,children:e.jsx(m.ul,{ref:o,listStyleType:l,listStylePosition:a,role:"list",__css:{...t.container,...f},...u,children:p})})});S.displayName="List";const ue=g((n,s)=>{const{as:o,...t}=n;return e.jsx(S,{ref:s,as:"ol",styleType:"decimal",marginStart:"1em",...t})});ue.displayName="OrderedList";const pe=g(function(s,o){const{as:t,...i}=s;return e.jsx(S,{ref:o,as:"ul",styleType:"initial",marginStart:"1em",...i})});pe.displayName="UnorderedList";const B=g(function(s,o){const t=A();return e.jsx(m.li,{ref:o,...s,__css:t.item})});B.displayName="ListItem";const fe=g(function(s,o){const t=A();return e.jsx(J,{ref:o,role:"presentation",...s,__css:t.icon})});fe.displayName="ListIcon";const P=n=>{var v;const{displayValue:s,selections:o,defaultValue:t,onChange:i}=n,l=z("RmgMultiSelect"),[a,d]=c.useState(t),[u,p]=c.useState(!1),y=c.useRef(null),f=c.useRef(null);ee({ref:y,handler:()=>p(!1)}),c.useEffect(()=>{t.toString()&&d(t)},[t.toString()]);const k=a.filter(r=>o.some(h=>h.value===r)).length,_=(r,h)=>{if(h){if(!a.includes(r.value)){const x=[...a,r.value];d(x),i==null||i(x)}}else{const x=a.filter(j=>j!==r.value);d(x),i==null||i(x)}};return e.jsx(G,{ref:y,sx:l,children:e.jsxs(U,{placement:"bottom-start",isOpen:u,autoFocus:!1,children:[e.jsx(X,{children:e.jsxs("div",{className:"rmg-multi-select__wrapper",role:"combobox","aria-expanded":u,"aria-controls":(v=f.current)==null?void 0:v.id,"aria-label":s,onClick:()=>p(r=>!r),children:[e.jsxs("div",{className:`rmg-multi-select__field ${u?"active":""}`,children:[e.jsx("span",{children:s}),e.jsxs(F,{colorScheme:k?"blue":void 0,role:"status",children:[k,"/",o.length]})]}),e.jsx("div",{className:"rmg-multi-select__icon-wrapper",children:e.jsx("svg",{viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})})})]})}),e.jsx(W,{ref:f,children:e.jsx(H,{children:e.jsx(S,{children:o.map(r=>e.jsx(B,{children:e.jsx(R,{isChecked:a.includes(r.value),isDisabled:r.disabled,onChange:({target:{checked:h}})=>_(r,h),children:r.label})},r.value.toString()))})})})]})})};try{P.displayName="RmgMultiSelect",P.__docgenInfo={description:"",displayName:"RmgMultiSelect",props:{displayValue:{defaultValue:null,description:"",name:"displayValue",required:!0,type:{name:"string"}},selections:{defaultValue:null,description:"",name:"selections",required:!0,type:{name:"Selection[]"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!0,type:{name:"string[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: string[]) => void)"}}}}}catch{}export{P as R};
